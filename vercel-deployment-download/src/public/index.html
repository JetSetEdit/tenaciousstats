{"data":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+VGVuYWNpb3VzIFN0YXRzIERhc2hib2FyZDwvdGl0bGU+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4ucGxvdC5seS9wbG90bHktbGF0ZXN0Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvaHRtbDJwZGYuanMvMC4xMC4xL2h0bWwycGRmLmJ1bmRsZS5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2h0bWwyY2FudmFzLzEuNC4xL2h0bWwyY2FudmFzLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c3R5bGU+CiAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9Um9ib3RvOndnaHRAMzAwOzQwMDs1MDA7NzAwOzkwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAKICAgICAgICAqIHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIH0KICAgICAgICAKICAgICAgICBib2R5IHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgICAgICAgICBjb2xvcjogIzJjM2U1MDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmhlYWRlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYigwLCAwLCAwKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAycmVtOwogICAgICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNmZjU4MDA7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGdhcDogMS41cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuaGVhZGVyLWxvZ28gewogICAgICAgICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgICAgICAgIHdpZHRoOiBhdXRvOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuaGVhZGVyLWNvbnRlbnQgewogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuaGVhZGVyIGgxIHsKICAgICAgICAgICAgZm9udC1zaXplOiAyLjVyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA5MDA7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNvbnRhaW5lciB7CiAgICAgICAgICAgIG1heC13aWR0aDogMTQwMHB4OwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgcGFkZGluZzogMCAycmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuc2lkZWJhciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxLjVyZW07CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4xKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnNpZGViYXIgaDMgewogICAgICAgICAgICBjb2xvcjogIzJjM2U1MDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmZvcm0tZ3JvdXAgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBsYWJlbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICBjb2xvcjogIzJjM2U1MDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpbnB1dFt0eXBlPSJkYXRlIl0gewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgcGFkZGluZzogMC41cmVtOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNoZWNrYm94LWdyb3VwIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNoZWNrYm94LWdyb3VwIGxhYmVsIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2hlY2tib3gtZ3JvdXAgaW5wdXRbdHlwZT0iY2hlY2tib3giXSB7CiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMC41cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBidXR0b24gewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY1ODAwOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogMC43NXJlbSAxLjVyZW07CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgYnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Q0M2QwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm1ldHJpY3MtZ3JpZCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpOwogICAgICAgICAgICBnYXA6IDFyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5tZXRyaWMtY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxLjVyZW07CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4xKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm1ldHJpYy1sYWJlbCB7CiAgICAgICAgICAgIGNvbG9yOiAjN2Y4YzhkOwogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubWV0cmljLXZhbHVlIHsKICAgICAgICAgICAgY29sb3I6ICNmZjU4MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnNlY3Rpb24gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogMnJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAycmVtOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLDAsMCwwLjEpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiBUYWJiZWQgSW50ZXJmYWNlIFN0eWxlcyAqLwogICAgICAgIC50YWJzLWNvbnRhaW5lciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWJzLWhlYWRlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZTBlMGUwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHggOHB4IDAgMDsKICAgICAgICAgICAgb3ZlcmZsb3cteDogYXV0bzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnRhYi1idXR0b24gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAxcmVtIDEuNXJlbTsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgIGNvbG9yOiAjN2Y4YzhkOwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzOwogICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDA7CiAgICAgICAgICAgIHdpZHRoOiBhdXRvOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAudGFiLWJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlOWVjZWY7CiAgICAgICAgICAgIGNvbG9yOiAjMmMzZTUwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAudGFiLWJ1dHRvbi5hY3RpdmUgewogICAgICAgICAgICBjb2xvcjogI2ZmNTgwMDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2ZmNTgwMDsKICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWItY29udGVudCB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWItY29udGVudC5hY3RpdmUgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnRhYi1wYW5lbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50YWItcGFuZWwuYWN0aXZlIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qIFRvb2x0aXAgU3R5bGVzICovCiAgICAgICAgLnRvb2x0aXAtdHJpZ2dlciB7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgY3Vyc29yOiBoZWxwOwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiAwLjI1cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAudG9vbHRpcC1pY29uIHsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICB3aWR0aDogMTZweDsKICAgICAgICAgICAgaGVpZ2h0OiAxNnB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICM3ZjhjOGQ7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4OwogICAgICAgICAgICBsaW5lLWhlaWdodDogMTZweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50b29sdGlwLXRyaWdnZXI6aG92ZXIgLnRvb2x0aXAtaWNvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZjU4MDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50b29sdGlwIHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICBib3R0b206IDEwMCU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzJjM2U1MDsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOwogICAgICAgICAgICBsaW5lLWhlaWdodDogMS40OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7CiAgICAgICAgICAgIHdpZHRoOiAyODBweDsKICAgICAgICAgICAgei1pbmRleDogMTAwMDsKICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4yczsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnRvb2x0aXA6OmFmdGVyIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAxMDAlOwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgYm9yZGVyOiA2cHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIGJvcmRlci10b3AtY29sb3I6ICMyYzNlNTA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC50b29sdGlwLXRyaWdnZXI6aG92ZXIgLnRvb2x0aXAgewogICAgICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0bzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm1ldHJpYy1sYWJlbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDAuMjVyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qIE5hdmlnYXRpb24gTWVudSBTdHlsZXMgKi8KICAgICAgICAubmF2LW1lbnUgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlMGUwZTA7CiAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMDUpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubmF2LW1lbnUgLmNvbnRhaW5lciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGdhcDogMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm5hdi1pdGVtIHsKICAgICAgICAgICAgcGFkZGluZzogMXJlbSAxLjVyZW07CiAgICAgICAgICAgIGNvbG9yOiAjMmMzZTUwOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm5hdi1pdGVtOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y4ZjlmYTsKICAgICAgICAgICAgY29sb3I6ICNmZjU4MDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5uYXYtaXRlbS5hY3RpdmUgewogICAgICAgICAgICBjb2xvcjogI2ZmNTgwMDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2ZmNTgwMDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm5hdi1jb250ZW50LXNlY3Rpb24gewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubmF2LWNvbnRlbnQtc2VjdGlvbi5hY3RpdmUgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyogQTQgUmVwb3J0IENvbnRhaW5lciBTdHlsaW5nICovCiAgICAgICAgI3JlcG9ydENvbnRhaW5lciB7CiAgICAgICAgICAgIHdpZHRoOiA3OTRweCAhaW1wb3J0YW50OyAvKiBBNCB3aWR0aDogMjEwbW0gYXQgOTYgRFBJICovCiAgICAgICAgICAgIG1heC13aWR0aDogNzk0cHggIWltcG9ydGFudDsKICAgICAgICAgICAgbWluLWhlaWdodDogMTEyM3B4OyAvKiBBNCBoZWlnaHQ6IDI5N21tIGF0IDk2IERQSSAqLwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5zZWN0aW9uIGgyIHsKICAgICAgICAgICAgY29sb3I6ICMyYzNlNTA7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyogUmVwb3J0IHNlY3Rpb24gc3R5bGluZyAtIGVuc3VyZSBpbWFnZXMgZG9uJ3QgZ2V0IGN1dCBvZmYgKi8KICAgICAgICAucmVwb3J0LXNlY3Rpb24gewogICAgICAgICAgICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAucmVwb3J0LXNlY3Rpb24gaW1nIHsKICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50OwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW4gIWltcG9ydGFudDsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmxvYWRpbmcgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW07CiAgICAgICAgICAgIGNvbG9yOiAjN2Y4YzhkOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuZXJyb3IgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmVlOwogICAgICAgICAgICBjb2xvcjogI2MzMzsKICAgICAgICAgICAgcGFkZGluZzogMXJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB0YWJsZSB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB0aCwgdGQgewogICAgICAgICAgICBwYWRkaW5nOiAwLjc1cmVtOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdGggewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICBjb2xvcjogIzJjM2U1MDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmZvb3RlciB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogMnJlbTsKICAgICAgICAgICAgY29sb3I6ICM3ZjhjOGQ7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDNyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5mb290ZXItdmVyc2lvbiB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTsKICAgICAgICAgICAgY29sb3I6ICNiMGIwYjA7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07CiAgICAgICAgICAgIG9wYWNpdHk6IDAuNzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgQG1lZGlhIHByaW50IHsKICAgICAgICAgICAgLyogUGFnZSBzZXR1cCAtIEE0IHBvcnRyYWl0ICgyMTBtbSB4IDI5N21tKSAqLwogICAgICAgICAgICBAcGFnZSB7CiAgICAgICAgICAgICAgICBzaXplOiBBNCBwb3J0cmFpdDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMWNtIDFjbSAyLjVjbSAxY207IC8qIEV4dHJhIGJvdHRvbSBtYXJnaW4gZm9yIGZvb3RlciAqLwogICAgICAgICAgICAgICAgLyogTm90ZTogQnJvd3NlciBwcmludCBoZWFkZXJzL2Zvb3RlcnMgKFVSTCwgcGFnZSBudW1iZXJzKSAKICAgICAgICAgICAgICAgICAgIGNhbm5vdCBiZSByZW1vdmVkIHZpYSBDU1MuIERpc2FibGUgdGhlbSBpbiB5b3VyIGJyb3dzZXIncyAKICAgICAgICAgICAgICAgICAgIHByaW50IGRpYWxvZzogIk1vcmUgc2V0dGluZ3MiID4gVW5jaGVjayAiSGVhZGVycyBhbmQgZm9vdGVycyIgKi8KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogUHJpbnQgZm9vdGVyIHRoYXQgYXBwZWFycyBvbiBldmVyeSBwYWdlICovCiAgICAgICAgICAgIC5wcmludC1mb290ZXIgewogICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgIGJvdHRvbTogMDsKICAgICAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgICAgICByaWdodDogMDsKICAgICAgICAgICAgICAgIGhlaWdodDogMS41Y207CiAgICAgICAgICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgI2ZmNTgwMDsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICAgICAgei1pbmRleDogMTAwMDsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstaW5zaWRlOiBhdm9pZDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLnByaW50LWZvb3Rlci1jb250ZW50IHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgcGFkZGluZzogMC4zY20gMWNtOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiA5cHQ7CiAgICAgICAgICAgICAgICBjb2xvcjogIzdmOGM4ZDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLnByaW50LWZvb3Rlci10ZXh0IHsKICAgICAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC5wcmludC1wYWdlLW51bWJlciB7CiAgICAgICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFBhZ2UgbnVtYmVyaW5nICovCiAgICAgICAgICAgIC5wYWdlLW51bWJlciB7CiAgICAgICAgICAgICAgICAvKiBDdXJyZW50IHBhZ2Ugd2lsbCBiZSB1cGRhdGVkIGJ5IGJyb3dzZXIncyBuYXRpdmUgcGFnZSBjb3VudGVyIGlmIHN1cHBvcnRlZCAqLwogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBQcmVzZXJ2ZSBjb2xvcnMgd2hlcmUgbmVlZGVkICovCiAgICAgICAgICAgICogewogICAgICAgICAgICAgICAgLXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGV4YWN0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwcmludC1jb2xvci1hZGp1c3Q6IGV4YWN0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIEhpZGUgYWxsIGludGVyYWN0aXZlIGFuZCBub24tZXNzZW50aWFsIGVsZW1lbnRzICovCiAgICAgICAgICAgIC5zaWRlYmFyLCAuaGVhZGVyLCAuZm9vdGVyLCAubG9hZGluZywgCiAgICAgICAgICAgIC5jaGVja2JveC1ncm91cCwgLmZvcm0tZ3JvdXAsIGlucHV0LCBsYWJlbDpub3QoLnJlcG9ydC1zZWN0aW9uLXRpdGxlKSwKICAgICAgICAgICAgLmNoYXJ0LWNvbnRhaW5lciwgLnBsb3RseSwgW2lkXj0iY2hhcnQiXSwgLmZvb3Rlci12ZXJzaW9uLAogICAgICAgICAgICAubmF2LW1lbnUsIC5uYXYtaXRlbSwgLnRhYnMtY29udGFpbmVyLCAudGFicy1oZWFkZXIsIC50YWItYnV0dG9uIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogSGlkZSBhbGwgYnV0dG9ucyB3aGVuIHByaW50aW5nIChpbmNsdWRpbmcgcHJpbnQgYnV0dG9uKSAqLwogICAgICAgICAgICBidXR0b24gewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBIaWRlIGNvbmZpZ3VyYXRpb24gaGVhZGluZyB3aGVuIHByaW50aW5nICovCiAgICAgICAgICAgIC5jb25maWctaGVhZGluZyB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFNob3cgZ2xvc3Nhcnkgc2VjdGlvbiB3aGVuIHByaW50aW5nICovCiAgICAgICAgICAgICNnbG9zc2FyeS1zZWN0aW9uIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFNob3cgcHJpbnQgaGVhZGVyIHdoZW4gcHJpbnRpbmcgKi8KICAgICAgICAgICAgLmdsb3NzYXJ5LXByaW50LWhlYWRlciB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFnZS1icmVhay1hZnRlcjogYXZvaWQ7CiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBHbG9zc2FyeSBwcmludCBzdHlsZXMgKi8KICAgICAgICAgICAgI2dsb3NzYXJ5LXNlY3Rpb24gLnNlY3Rpb24gewogICAgICAgICAgICAgICAgcGFnZS1icmVhay1pbnNpZGU6IGF1dG87CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICNnbG9zc2FyeS1zZWN0aW9uIGgyIHsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstYWZ0ZXI6IGF2b2lkOwogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMCAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAjZ2xvc3Nhcnktc2VjdGlvbiBoMyB7CiAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWFmdGVyOiBhdm9pZDsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstYmVmb3JlOiBhdXRvOwogICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMS41cmVtICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjc1cmVtICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFRhYmxlIHBhZ2UgYnJlYWsgaGFuZGxpbmcgKi8KICAgICAgICAgICAgI2dsb3NzYXJ5LXNlY3Rpb24gdGFibGUucmVwb3J0LXRhYmxlIHsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstaW5zaWRlOiBhdXRvOwogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS41cmVtOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAjZ2xvc3Nhcnktc2VjdGlvbiB0YWJsZS5yZXBvcnQtdGFibGUgdGhlYWQgewogICAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtaGVhZGVyLWdyb3VwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAjZ2xvc3Nhcnktc2VjdGlvbiB0YWJsZS5yZXBvcnQtdGFibGUgdGJvZHkgdHIgewogICAgICAgICAgICAgICAgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBDbGVhbiB0YWJsZSBzdHlsaW5nIGZvciBnbG9zc2FyeSAqLwogICAgICAgICAgICAjZ2xvc3Nhcnktc2VjdGlvbiB0YWJsZSB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgICAgICAgICAgICBtYXJnaW46IDFyZW0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgI2dsb3NzYXJ5LXNlY3Rpb24gdGFibGUgdGgsCiAgICAgICAgICAgICNnbG9zc2FyeS1zZWN0aW9uIHRhYmxlIHRkIHsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNzVyZW07CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICNnbG9zc2FyeS1zZWN0aW9uIHRhYmxlIHRoIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICAgICAgY29sb3I6ICMyYzNlNTA7CiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmNTgwMDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgI2dsb3NzYXJ5LXNlY3Rpb24gdGFibGUgdHI6bGFzdC1jaGlsZCB0ZCB7CiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiBub25lOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBFbnN1cmUgZ2xvc3NhcnkgY29udGVudCBpcyB2aXNpYmxlICovCiAgICAgICAgICAgIC5uYXYtY29udGVudC1zZWN0aW9uIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFJlc2V0IGJvZHkgZm9yIHByaW50ICovCiAgICAgICAgICAgIGJvZHkgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS41ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIE1haW4gY29udGFpbmVyIC0gdXNlIHBoeXNpY2FsIHVuaXRzICovCiAgICAgICAgICAgIC5jb250YWluZXIgewogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFJlcG9ydCBzZWN0aW9uIGNvbnRhaW5lciAqLwogICAgICAgICAgICAuc2VjdGlvbiB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNWNtICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICNyZXBvcnRDb250YWluZXIgewogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBFbnN1cmUgYWxsIHJlcG9ydCBjb250ZW50IGZpdHMgd2l0aGluIG1hcmdpbnMgKi8KICAgICAgICAgICAgLnJlcG9ydC1zZWN0aW9uID4gKiB7CiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogUmVwb3J0IHNlY3Rpb25zIC0gcHJldmVudCBicmVha2luZyBhbmQgc3RhcnQgZWFjaCBvbiBuZXcgcGFnZSAqLwogICAgICAgICAgICAucmVwb3J0LXNlY3Rpb24gewogICAgICAgICAgICAgICAgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWJlZm9yZTogYWx3YXlzICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxLjJjbSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogRmlyc3Qgc2VjdGlvbiBzaG91bGQgbm90IGhhdmUgcGFnZSBicmVhayBiZWZvcmUgKi8KICAgICAgICAgICAgLnJlcG9ydC1zZWN0aW9uOmZpcnN0LW9mLXR5cGUsCiAgICAgICAgICAgIC5yZXBvcnQtc2VjdGlvbltkYXRhLWlzLWZpcnN0LXNlY3Rpb249InRydWUiXSB7CiAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWJlZm9yZTogYXV0byAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBFbnN1cmUgY2hhcnRzIHN0YXkgd2l0aCB0aGVpciBzZWN0aW9uICovCiAgICAgICAgICAgIC5yZXBvcnQtc2VjdGlvbiBpbWcsCiAgICAgICAgICAgIC5yZXBvcnQtc2VjdGlvbiBbaWRePSJyZXBvcnQiXSB7CiAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstYWZ0ZXI6IGF2b2lkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIEhlYWRpbmdzICovCiAgICAgICAgICAgIGgxIHsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBwdCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgY29sb3I6IGJsYWNrICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAuNWNtIDAgMC4zY20gMCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFnZS1icmVhay1hZnRlcjogYXZvaWQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGgyLCAucmVwb3J0LXNlY3Rpb24tdGl0bGUgewogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMC44Y20gMCAwLjRjbSAwICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC4yY20gIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDEuNXB0IHNvbGlkICNmZjU4MDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstYWZ0ZXI6IGF2b2lkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGgzIHsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJwdCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgY29sb3I6IGJsYWNrICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAuNWNtIDAgMC4zY20gMCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFnZS1icmVhay1hZnRlcjogYXZvaWQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFBhcmFncmFwaHMgYW5kIHRleHQgKi8KICAgICAgICAgICAgcCB7CiAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFwdCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbWFyZ2luOiAwLjNjbSAwICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS41ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFRhYmxlcyAtIHByaW50IG9wdGltaXplZCAqLwogICAgICAgICAgICB0YWJsZSwgLnJlcG9ydC10YWJsZSB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAuNWNtIDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstaW5zaWRlOiBhdXRvICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHRhYmxlLWxheW91dDogZml4ZWQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMXB0IHNvbGlkICM2NjYgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdGhlYWQgewogICAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtaGVhZGVyLWdyb3VwICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHRib2R5IHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLXJvdy1ncm91cCAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB0Zm9vdCB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1mb290ZXItZ3JvdXAgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdHIgewogICAgICAgICAgICAgICAgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWFmdGVyOiBhdXRvICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHRoIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGYwZjAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMXB0IHNvbGlkICM2NjYgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuM2NtICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZCAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB0ZCB7CiAgICAgICAgICAgICAgICBib3JkZXI6IDFwdCBzb2xpZCAjY2NjICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjI1Y20gIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogMCAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBJbWFnZXMgKi8KICAgICAgICAgICAgaW1nIHsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMC41Y20gYXV0byAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbiAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBMb2dvIC0gbWFpbnRhaW4gZml4ZWQgc2l6ZSBpbiBwcmludCAqLwogICAgICAgICAgICBpbWdbYWx0Kj0iTG9nbyJdLCBpbWdbYWx0Kj0ibG9nbyJdLCAucmVwb3J0LWxvZ28gewogICAgICAgICAgICAgICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogMjAwcHggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGhlaWdodDogNjBweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbWF4LWhlaWdodDogNjBweCAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBSZXBvcnQgc2VjdGlvbiBpbWFnZXMgLSBlbnN1cmUgdGhleSBmaXQgKi8KICAgICAgICAgICAgLnJlcG9ydC1zZWN0aW9uIGltZyB7CiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW4gIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogTGlzdHMgKi8KICAgICAgICAgICAgdWwsIG9sIHsKICAgICAgICAgICAgICAgIG1hcmdpbjogMC4zY20gMCAwLjNjbSAxLjVjbSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgY29sb3I6IGJsYWNrICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGxpIHsKICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAuMmNtIDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjUgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogR3JpZCBsYXlvdXRzIC0gY29udmVydCB0byBibG9jayBmb3IgcHJpbnQgKi8KICAgICAgICAgICAgZGl2W3N0eWxlKj0iZGlzcGxheTogZ3JpZCJdLAogICAgICAgICAgICBkaXZbc3R5bGUqPSJncmlkLXRlbXBsYXRlLWNvbHVtbnMiXSwKICAgICAgICAgICAgLm1ldHJpY3MtZ3JpZCB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBkaXZbc3R5bGUqPSJkaXNwbGF5OiBncmlkIl0gPiAqLAogICAgICAgICAgICBkaXZbc3R5bGUqPSJncmlkLXRlbXBsYXRlLWNvbHVtbnMiXSA+ICogewogICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuM2NtICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBFeGVjdXRpdmUgc3VtbWFyeSBncmlkICovCiAgICAgICAgICAgIGRpdltzdHlsZSo9ImdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcikiXSB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBkaXZbc3R5bGUqPSJncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpIl0gPiBkaXYgewogICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuM2NtICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjJjbSAwICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAwLjVwdCBzb2xpZCAjZWVlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIEJhY2tncm91bmQgY29sb3JzIC0gcHJlc2VydmUgbGlnaHQgYmFja2dyb3VuZHMsIHJlbW92ZSBkYXJrICovCiAgICAgICAgICAgIGRpdltzdHlsZSo9ImJhY2tncm91bmQ6ICNmOGY5ZmEiXSwKICAgICAgICAgICAgZGl2W3N0eWxlKj0iYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYSJdLAogICAgICAgICAgICAucmVwb3J0LWluc2lnaHRzIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmEgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMXB0IHNvbGlkICNkZGQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNWNtICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAuNWNtIDAgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogUmVtb3ZlIG90aGVyIGJhY2tncm91bmQgY29sb3JzICovCiAgICAgICAgICAgIGRpdltzdHlsZSo9ImJhY2tncm91bmQ6Il06bm90KFtzdHlsZSo9ImJhY2tncm91bmQ6ICNmOGY5ZmEiXSk6bm90KFtzdHlsZSo9ImJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmEiXSksCiAgICAgICAgICAgIGRpdltzdHlsZSo9ImJhY2tncm91bmQtY29sb3I6Il06bm90KFtzdHlsZSo9ImJhY2tncm91bmQ6ICNmOGY5ZmEiXSk6bm90KFtzdHlsZSo9ImJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmEiXSkgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogVGV4dCBjb2xvcnMgLSBlbnN1cmUgYmxhY2sgZm9yIHByaW50ICovCiAgICAgICAgICAgIHAsIGRpdiwgc3BhbiwgbGksIHRkLCB0aCB7CiAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogT3JhbmdlIGFjY2VudHMgLSBrZWVwIGZvciBoZWFkZXJzIGJ1dCBlbnN1cmUgcmVhZGFiaWxpdHkgKi8KICAgICAgICAgICAgaDJbc3R5bGUqPSJjb2xvcjogI2ZmNTgwMCJdLAogICAgICAgICAgICBoMltzdHlsZSo9ImNvbG9yOiAjRkU1MDAwIl0gewogICAgICAgICAgICAgICAgY29sb3I6IGJsYWNrICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiAjZmY1ODAwICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIFJlcG9ydCBoZWFkZXIgKi8KICAgICAgICAgICAgZGl2W3N0eWxlKj0idGV4dC1hbGlnbjogY2VudGVyIl0gewogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxY20gIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwLjVjbSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB0IHNvbGlkICNmZjU4MDAgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogTW9ub3NwYWNlIHRleHQgKi8KICAgICAgICAgICAgdGRbc3R5bGUqPSJmb250LWZhbWlseTogbW9ub3NwYWNlIl0sCiAgICAgICAgICAgIHNwYW5bc3R5bGUqPSJmb250LWZhbWlseTogbW9ub3NwYWNlIl0gewogICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgZm9udC1zaXplOiA5cHQgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogU3Ryb25nL2JvbGQgdGV4dCAqLwogICAgICAgICAgICBzdHJvbmcsIGIgewogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBSZW1vdmUgYm9yZGVycyBhbmQgc2hhZG93cyAqLwogICAgICAgICAgICAqIHsKICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZGl2W3N0eWxlKj0iYm9yZGVyLXJhZGl1cyJdIHsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogRW5zdXJlIG5vIG92ZXJmbG93ICovCiAgICAgICAgICAgICogewogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogUGFnZSBicmVha3MgKi8KICAgICAgICAgICAgLnJlcG9ydC1zZWN0aW9uOmZpcnN0LW9mLXR5cGUgewogICAgICAgICAgICAgICAgcGFnZS1icmVhay1iZWZvcmU6IGF1dG8gIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogQXZvaWQgYnJlYWtpbmcgdGFibGVzIGFjcm9zcyBwYWdlcyB3aGVuIHBvc3NpYmxlICovCiAgICAgICAgICAgIHRhYmxlLnJlcG9ydC10YWJsZSB7CiAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQgIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogSWYgdGFibGUgaXMgdG9vIGxhcmdlLCBhbGxvdyBicmVha2luZyBidXQga2VlcCBoZWFkZXIgKi8KICAgICAgICAgICAgdGFibGUucmVwb3J0LXRhYmxlIHRoZWFkIHRyIHsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstYWZ0ZXI6IGF2b2lkICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyogUGFzc3dvcmQgUHJvdGVjdGlvbiBNb2RhbCBTdHlsZXMgKi8KICAgICAgICAjcGFzc3dvcmQtcHJvdGVjdGlvbi1vdmVybGF5IHsKICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICB6LWluZGV4OiAxMDAwMDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAjcGFzc3dvcmQtcHJvdGVjdGlvbi1vdmVybGF5LmhpZGRlbiB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wYXNzd29yZC1tb2RhbCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAzcmVtOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDIwcHggNjBweCByZ2JhKDAsMCwwLDAuMyk7CiAgICAgICAgICAgIG1heC13aWR0aDogNDUwcHg7CiAgICAgICAgICAgIHdpZHRoOiA5MCU7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnBhc3N3b3JkLW1vZGFsIGltZyB7CiAgICAgICAgICAgIGhlaWdodDogNjBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS41cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAucGFzc3dvcmQtbW9kYWwgaDIgewogICAgICAgICAgICBjb2xvcjogIzJjM2U1MDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwogICAgICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnBhc3N3b3JkLW1vZGFsIHAgewogICAgICAgICAgICBjb2xvcjogIzdmOGM4ZDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjk1cmVtOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAucGFzc3dvcmQtaW5wdXQtZ3JvdXAgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wYXNzd29yZC1pbnB1dC1ncm91cCBpbnB1dCB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxcmVtOwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjZTBlMGUwOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuM3M7CiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wYXNzd29yZC1pbnB1dC1ncm91cCBpbnB1dDpmb2N1cyB7CiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2ZmNTgwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnBhc3N3b3JkLXN1Ym1pdC1idG4gewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgcGFkZGluZzogMXJlbTsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNTgwMDsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zczsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnBhc3N3b3JkLXN1Ym1pdC1idG46aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDQzZDAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAucGFzc3dvcmQtZXJyb3IgewogICAgICAgICAgICBjb2xvcjogI2U3NGMzYzsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wYXNzd29yZC1lcnJvci5zaG93IHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5tYWluLWNvbnRlbnQgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubWFpbi1jb250ZW50LmF1dGhlbnRpY2F0ZWQgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPCEtLSBQYXNzd29yZCBQcm90ZWN0aW9uIE92ZXJsYXkgLS0+CiAgICA8ZGl2IGlkPSJwYXNzd29yZC1wcm90ZWN0aW9uLW92ZXJsYXkiPgogICAgICAgIDxkaXYgY2xhc3M9InBhc3N3b3JkLW1vZGFsIj4KICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vd3d3LnRlbmFjaW91c3RhcGVzLmNvbS5hdS93cC1jb250ZW50L3VwbG9hZHMvMjAyNS8xMi90ZW5hY2lvdXMtdGFwZXMtbG9nby1zY2FsZWQucG5nIiBhbHQ9IlRlbmFjaW91cyBUYXBlcyBMb2dvIiBzdHlsZT0iaGVpZ2h0OiA2MHB4OyBtYXgtaGVpZ2h0OiA2MHB4OyB3aWR0aDogYXV0bzsgbWF4LXdpZHRoOiAyMDBweDsiPgogICAgICAgICAgICA8aDI+8J+UkiBQcm90ZWN0ZWQgRGFzaGJvYXJkPC9oMj4KICAgICAgICAgICAgPHA+UGxlYXNlIGVudGVyIHRoZSBwYXNzd29yZCB0byBhY2Nlc3MgdGhlIGFuYWx5dGljcyBkYXNoYm9hcmQ8L3A+CiAgICAgICAgICAgIDxmb3JtIGlkPSJwYXNzd29yZC1mb3JtIiBvbnN1Ym1pdD0iY2hlY2tQYXNzd29yZChldmVudCkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGFzc3dvcmQtaW5wdXQtZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkLWlucHV0IiBwbGFjZWhvbGRlcj0iRW50ZXIgcGFzc3dvcmQiIGF1dG9mb2N1cyByZXF1aXJlZD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJwYXNzd29yZC1zdWJtaXQtYnRuIj5BY2Nlc3MgRGFzaGJvYXJkPC9idXR0b24+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwYXNzd29yZC1lcnJvciIgaWQ9InBhc3N3b3JkLWVycm9yIj5JbmNvcnJlY3QgcGFzc3dvcmQuIFBsZWFzZSB0cnkgYWdhaW4uPC9kaXY+CiAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgCiAgICA8IS0tIE1haW4gQ29udGVudCAoaGlkZGVuIHVudGlsIGF1dGhlbnRpY2F0ZWQpIC0tPgogICAgPGRpdiBjbGFzcz0ibWFpbi1jb250ZW50IiBpZD0ibWFpbi1jb250ZW50Ij4KICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxLjVyZW07Ij4KICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vd3d3LnRlbmFjaW91c3RhcGVzLmNvbS5hdS93cC1jb250ZW50L3VwbG9hZHMvMjAyNS8wOC9sb2dvLTEtc2NhbGVkLnBuZyIgYWx0PSJUZW5hY2lvdXMgVGFwZXMgTG9nbyIgY2xhc3M9ImhlYWRlci1sb2dvIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgPGgxPvCfk4ogVGVuYWNpb3VzIFN0YXRzIERhc2hib2FyZDwvaDE+CiAgICAgICAgICAgICAgICA8cD5BbmFseXRpY3MgZm9yIFRlbmFjaW91cyBUYXBlcyAtIEFkaGVzaXZlIFRhcGVzIGZvciBldmVyeSBhcHBsaWNhdGlvbjwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIAogICAgPCEtLSBOYXZpZ2F0aW9uIE1lbnUgLS0+CiAgICA8bmF2IGNsYXNzPSJuYXYtbWVudSI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2LWl0ZW0gYWN0aXZlIiBvbmNsaWNrPSJzaG93TmF2U2VjdGlvbignZGFzaGJvYXJkJywgZXZlbnQpOyByZXR1cm4gZmFsc2U7Ij5EYXNoYm9hcmQ8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2LWl0ZW0iIG9uY2xpY2s9InNob3dOYXZTZWN0aW9uKCdnbG9zc2FyeScsIGV2ZW50KTsgcmV0dXJuIGZhbHNlOyI+R2xvc3Nhcnk8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvbmF2PgogICAgCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDwhLS0gRGFzaGJvYXJkIFNlY3Rpb24gLS0+CiAgICAgICAgPGRpdiBpZD0iZGFzaGJvYXJkLXNlY3Rpb24iIGNsYXNzPSJuYXYtY29udGVudC1zZWN0aW9uIGFjdGl2ZSI+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMzAwcHggMWZyOyBnYXA6IDJyZW07Ij4KICAgICAgICAgICAgICAgIDwhLS0gU2lkZWJhciAtLT4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNpZGViYXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlN0YXJ0IERhdGU8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0ic3RhcnREYXRlIj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkVuZCBEYXRlPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9ImVuZERhdGUiPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGVja2JveC1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9Ik92ZXJ2aWV3IiBjaGVja2VkPiBPdmVydmlldzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9IlRyYWZmaWMgU291cmNlcyIgY2hlY2tlZD4gVHJhZmZpYyBTb3VyY2VzPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiB2YWx1ZT0iVG9wIFBhZ2VzIiBjaGVja2VkPiBUb3AgUGFnZXM8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIHZhbHVlPSJVc2VyIFJldGVudGlvbiI+IFVzZXIgUmV0ZW50aW9uPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiB2YWx1ZT0iR2VvZ3JhcGhpY3MiPiBHZW9ncmFwaGljczwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9IlRlY2gvRGV2aWNlcyI+IFRlY2gvRGV2aWNlczwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9IkV2ZW50cyI+IEV2ZW50czwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9IkJ1c2luZXNzIFByb2ZpbGUiPiBCdXNpbmVzcyBQcm9maWxlPC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJsb2FkRGF0YSgpIj5SZWZyZXNoIERhdGE8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0iZ2VuZXJhdGVSZXBvcnQoKSIgc3R5bGU9Im1hcmdpbi10b3A6IDAuNXJlbTsgYmFja2dyb3VuZC1jb2xvcjogIzRhOTBlMjsiPvCfk4QgR2VuZXJhdGUgTW9udGhseSBSZXBvcnQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0iY29uZmlnLWhlYWRpbmciPuKame+4jyBDb25maWd1cmF0aW9uPC9oMz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsb2FkaW5nIj5Db25maWd1cmUgZGF0ZXMgYW5kIGNsaWNrICJSZWZyZXNoIERhdGEiIHRvIGxvYWQgYW5hbHl0aWNzPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPCEtLSBHbG9zc2FyeSBTZWN0aW9uIC0tPgogICAgICAgIDxkaXYgaWQ9Imdsb3NzYXJ5LXNlY3Rpb24iIGNsYXNzPSJuYXYtY29udGVudC1zZWN0aW9uIj4KICAgICAgICAgICAgPCEtLSBQcmludCBIZWFkZXIgKG9ubHkgdmlzaWJsZSB3aGVuIHByaW50aW5nKSAtLT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2xvc3NhcnktcHJpbnQtaGVhZGVyIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAycmVtOyBwYWRkaW5nLWJvdHRvbTogMnJlbTsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZjU4MDA7Ij4KICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly93d3cudGVuYWNpb3VzdGFwZXMuY29tLmF1L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDI1LzEyL3RlbmFjaW91cy10YXBlcy1sb2dvLXNjYWxlZC5wbmciIGFsdD0iVGVuYWNpb3VzIFRhcGVzIExvZ28iIHN0eWxlPSJoZWlnaHQ6IDYwcHg7IG1heC1oZWlnaHQ6IDYwcHg7IHdpZHRoOiBhdXRvOyBtYXgtd2lkdGg6IDIwMHB4OyBtYXJnaW4tYm90dG9tOiAxcmVtOyI+CiAgICAgICAgICAgICAgICAgICAgPGgxIHN0eWxlPSJjb2xvcjogIzJjM2U1MDsgbWFyZ2luLWJvdHRvbTogMC41cmVtOyBmb250LXNpemU6IDJyZW07Ij5BbmFseXRpY3MgR2xvc3Nhcnk8L2gxPgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzdmOGM4ZDsgZm9udC1zaXplOiAxLjFyZW07Ij5UZW5hY2lvdXMgVGFwZXMgLSBBZGhlc2l2ZSBUYXBlcyBmb3IgZXZlcnkgYXBwbGljYXRpb248L3A+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8IS0tIFByaW50IEJ1dHRvbiAob3V0c2lkZSBzZWN0aW9uKSAtLT4KICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMS41cmVtOyB0ZXh0LWFsaWduOiByaWdodDsiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJ3aW5kb3cucHJpbnQoKSIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZjU4MDA7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAwLjc1cmVtIDEuNXJlbTsgYm9yZGVyLXJhZGl1czogNnB4OyBmb250LXdlaWdodDogNTAwOyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMXJlbTsgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTsiPgogICAgICAgICAgICAgICAgICAgIPCflqjvuI8gUHJpbnQgR2xvc3NhcnkKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW4tdG9wOiAwOyI+R2xvc3Nhcnk8L2gyPgogICAgICAgICAgICAgICAgPHAgc3R5bGU9Im1hcmdpbi1ib3R0b206IDJyZW07IGNvbG9yOiAjN2Y4YzhkOyI+Q29tcHJlaGVuc2l2ZSBkZWZpbml0aW9ucyBvZiBhbmFseXRpY3MgdGVybXMgYW5kIG1ldHJpY3MgdXNlZCBpbiB0aGlzIGRhc2hib2FyZC4gSG92ZXIgb3ZlciB0ZXJtcyBpbiB0aGUgaW50ZXJhY3RpdmUgZGFzaGJvYXJkIHRvIHNlZSBxdWljayB0b29sdGlwcy48L3A+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICNmZjU4MDA7IG1hcmdpbi10b3A6IDJyZW07IG1hcmdpbi1ib3R0b206IDFyZW07IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZmY1ODAwOyBwYWRkaW5nLWJvdHRvbTogMC41cmVtOyI+RXhlY3V0aXZlIFN1bW1hcnkgTWV0cmljczwvaDM+CiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InJlcG9ydC10YWJsZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBtYXJnaW4tYm90dG9tOiAycmVtOyI+CiAgICAgICAgICAgICAgICAgICAgPGNvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMzAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiA3MCU7Ij4KICAgICAgICAgICAgICAgICAgICA8L2NvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+VGVybTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+RGVmaW5pdGlvbjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5Ub3RhbCBTZXNzaW9uczwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+VG90YWwgbnVtYmVyIG9mIHZpc2l0cyB0byB0aGUgc2l0ZSBpbiB0aGlzIHBlcmlvZC4gT25lIHBlcnNvbiBjYW4gY3JlYXRlIG11bHRpcGxlIHNlc3Npb25zIGlmIHRoZXkgcmV0dXJuLjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5Ub3RhbCBVc2VyczwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+RXN0aW1hdGVkIG51bWJlciBvZiB1bmlxdWUgcGVvcGxlIHdobyB2aXNpdGVkIHRoZSBzaXRlIGluIHRoaXMgcGVyaW9kLjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5QYWdlIFZpZXdzPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5Ub3RhbCB0aW1lcyBhbnkgcGFnZSBvbiB0aGUgc2l0ZSB3YXMgbG9hZGVkIG9yIHZpZXdlZCwgaW5jbHVkaW5nIHJlcGVhdHMuPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPkVuZ2FnZW1lbnQgUmF0ZTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+UGVyY2VudCBvZiBzZXNzaW9ucyB3aGVyZSB2aXNpdG9ycyBkaWQgc29tZXRoaW5nIG1lYW5pbmdmdWwsIGxpa2Ugdmlld2luZyBtdWx0aXBsZSBwYWdlcywgc3RheWluZyBhIHdoaWxlLCBvciB0cmlnZ2VyaW5nIGtleSBldmVudHMuPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPkF2Zy4gU2Vzc2lvbiBEdXJhdGlvbjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+QXZlcmFnZSB0aW1lIHZpc2l0b3JzIGFjdGl2ZWx5IHNwZW50IG9uIHRoZSBzaXRlIGR1cmluZyBhIHZpc2l0LjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5Cb3VuY2UgUmF0ZTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+UGVyY2VudCBvZiBzZXNzaW9ucyB3aGVyZSB2aXNpdG9ycyBsZWZ0IGFmdGVyIG9ubHkgb25lIHBhZ2Ugd2l0aCBubyBtZWFuaW5nZnVsIGludGVyYWN0aW9uLjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICNmZjU4MDA7IG1hcmdpbi10b3A6IDJyZW07IG1hcmdpbi1ib3R0b206IDFyZW07IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZmY1ODAwOyBwYWRkaW5nLWJvdHRvbTogMC41cmVtOyI+VHJhZmZpYyBTb3VyY2VzPC9oMz4KICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0icmVwb3J0LXRhYmxlIiBzdHlsZT0id2lkdGg6IDEwMCU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IG1hcmdpbi1ib3R0b206IDJyZW07Ij4KICAgICAgICAgICAgICAgICAgICA8Y29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiAzMCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDcwJTsiPgogICAgICAgICAgICAgICAgICAgIDwvY29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICA8dHIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5UZXJtPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5EZWZpbml0aW9uPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5Tb3VyY2U8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5XaGVyZSB0aGUgdmlzaXQgY2FtZSBmcm9tLCBzdWNoIGFzIEdvb2dsZSwgZW1haWwsIHNvY2lhbCwgb3IgcGVvcGxlIHR5cGluZyB0aGUgVVJMIGRpcmVjdGx5LjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij4oZGlyZWN0KSAvIChub25lKTwvdGQ+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogIzU1NTsiPlZpc2l0cyB3aXRoIG5vIGNsZWFyIHJlZmVycmVyIOKAkyB1c3VhbGx5IHBlb3BsZSB0eXBpbmcgdGhlIFVSTCwgdXNpbmcgYm9va21hcmtzLCBvciBjb21pbmcgZnJvbSB1bnRhZ2dlZCBsaW5rcy48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjMmMzZTUwOyI+LyBvcmdhbmljPC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+RnJlZSBjbGlja3MgZnJvbSBzZWFyY2ggZW5naW5lIHJlc3VsdHMgKG5vdCBwYWlkIGFkcykuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPi8gcmVmZXJyYWw8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5DbGlja3MgZnJvbSBsaW5rcyBvbiBvdGhlciB3ZWJzaXRlcyB0aGF0IHNlbmQgdHJhZmZpYyB0byB0aGlzIHNpdGUuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPi8gZW1haWw8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5WaXNpdHMgZnJvbSB0cmFja2VkIGxpbmtzIGluIG1hcmtldGluZyBlbWFpbHMuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPlBlcmNlbnRhZ2UgKGluIHNvdXJjZXMpPC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+U2hhcmUgb2YgYWxsIHNlc3Npb25zIHRoYXQgY2FtZSBmcm9tIHRoaXMgc291cmNlIGluIHRoZSBzZWxlY3RlZCBwZXJpb2QuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPlNlc3Npb25zIChpbiBzb3VyY2VzKTwvdGQ+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogIzU1NTsiPk51bWJlciBvZiB2aXNpdHMgdGhhdCBjYW1lIGZyb20gdGhpcyBzb3VyY2UuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjZmY1ODAwOyBtYXJnaW4tdG9wOiAycmVtOyBtYXJnaW4tYm90dG9tOiAxcmVtOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmNTgwMDsgcGFkZGluZy1ib3R0b206IDAuNXJlbTsiPlRvcCBQYWdlcyAmIFNlYXJjaGVkIFByb2R1Y3RzPC9oMz4KICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0icmVwb3J0LXRhYmxlIiBzdHlsZT0id2lkdGg6IDEwMCU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IG1hcmdpbi1ib3R0b206IDJyZW07Ij4KICAgICAgICAgICAgICAgICAgICA8Y29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiAzMCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDcwJTsiPgogICAgICAgICAgICAgICAgICAgIDwvY29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICA8dHIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5UZXJtPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5EZWZpbml0aW9uPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5WaWV3cyAocGFnZXMvcHJvZHVjdHMpPC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+SG93IG1hbnkgdGltZXMgdGhpcyBwYWdlIG9yIHByb2R1Y3Qgd2FzIHZpZXdlZCBpbiB0aGUgc2VsZWN0ZWQgcGVyaW9kLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5Vc2VycyAocGFnZXMvcHJvZHVjdHMpPC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+SG93IG1hbnkgdW5pcXVlIHZpc2l0b3JzIHZpZXdlZCB0aGlzIHBhZ2Ugb3IgcHJvZHVjdCBhdCBsZWFzdCBvbmNlLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogI2ZmNTgwMDsgbWFyZ2luLXRvcDogMnJlbTsgbWFyZ2luLWJvdHRvbTogMXJlbTsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZjU4MDA7IHBhZGRpbmctYm90dG9tOiAwLjVyZW07Ij5Vc2VyIFJldGVudGlvbjwvaDM+CiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InJlcG9ydC10YWJsZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBtYXJnaW4tYm90dG9tOiAycmVtOyI+CiAgICAgICAgICAgICAgICAgICAgPGNvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMzAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiA3MCU7Ij4KICAgICAgICAgICAgICAgICAgICA8L2NvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+VGVybTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+RGVmaW5pdGlvbjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjMmMzZTUwOyI+TmV3IFVzZXJzPC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+UGVvcGxlIHZpc2l0aW5nIHRoZSBzaXRlIGZvciB0aGUgZmlyc3QgdGltZSBvbiB0aGlzIGRldmljZS9icm93c2VyLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5SZXR1cm5pbmcgVXNlcnM8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5QZW9wbGUgd2hvIGhhdmUgdmlzaXRlZCBiZWZvcmUgb24gdGhpcyBkZXZpY2UvYnJvd3NlciBhbmQgY2FtZSBiYWNrIGluIHRoaXMgcGVyaW9kLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5QZXJjZW50YWdlIChyZXRlbnRpb24pPC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+U2hhcmUgb2YgdG90YWwgc2Vzc2lvbnMgdGhhdCBjYW1lIGZyb20gbmV3IHZzIHJldHVybmluZyB2aXNpdG9ycy48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICNmZjU4MDA7IG1hcmdpbi10b3A6IDJyZW07IG1hcmdpbi1ib3R0b206IDFyZW07IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZmY1ODAwOyBwYWRkaW5nLWJvdHRvbTogMC41cmVtOyI+R2VvZ3JhcGh5ICYgRGV2aWNlczwvaDM+CiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InJlcG9ydC10YWJsZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBtYXJnaW4tYm90dG9tOiAycmVtOyI+CiAgICAgICAgICAgICAgICAgICAgPGNvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMzAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiA3MCU7Ij4KICAgICAgICAgICAgICAgICAgICA8L2NvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+VGVybTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+RGVmaW5pdGlvbjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjMmMzZTUwOyI+U2Vzc2lvbnMgYnkgQ291bnRyeSAvIFRvcCBDaXRpZXM8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5XaGVyZSB2aXNpdHMgb3JpZ2luYXRlZCwgYmFzZWQgb24gSVAgbG9jYXRpb247IHNvbWUgdHJhZmZpYyBtYXkgYmUgIm5vdCBzZXQiIGlmIGxvY2F0aW9uIGlzIHVuY2xlYXIuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPkRldmljZSBDYXRlZ29yeSAoZGVza3RvcCAvIG1vYmlsZSAvIHRhYmxldCk8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5UeXBlIG9mIGRldmljZSB1c2VkIGZvciB0aGUgdmlzaXQsIGhlbHBpbmcgeW91IHNlZSB3aGV0aGVyIHBlb3BsZSBicm93c2UgbW9yZSBvbiBjb21wdXRlcnMgb3IgcGhvbmVzLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogI2ZmNTgwMDsgbWFyZ2luLXRvcDogMnJlbTsgbWFyZ2luLWJvdHRvbTogMXJlbTsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZjU4MDA7IHBhZGRpbmctYm90dG9tOiAwLjVyZW07Ij5FdmVudHM8L2gzPgogICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJyZXBvcnQtdGFibGUiIHN0eWxlPSJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgbWFyZ2luLWJvdHRvbTogMnJlbTsiPgogICAgICAgICAgICAgICAgICAgIDxjb2xncm91cD4KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDMwJTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogNzAlOyI+CiAgICAgICAgICAgICAgICAgICAgPC9jb2xncm91cD4KICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlRlcm08L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPkRlZmluaXRpb248L3RoPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPkV2ZW50IE5hbWU8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5BIHNwZWNpZmljIGFjdGlvbiB0aGF0IHdhcyB0cmFja2VkIG9uIHRoZSBzaXRlLCBzdWNoIGFzIHZpZXdpbmcgYSBwYWdlLCBzY3JvbGxpbmcsIG9yIHN1Ym1pdHRpbmcgYSBmb3JtLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5wYWdlX3ZpZXc8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5SZWNvcmRlZCB3aGVuZXZlciBhIHBhZ2UgbG9hZHMgb3IgaXMgdmlld2VkLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij51c2VyX2VuZ2FnZW1lbnQ8L3RkPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgY29sb3I6ICM1NTU7Ij5SZWNvcmRlZCB3aGVuIGEgdmlzaXRvciBzdGF5cyBvbiBhIHBhZ2UgZm9yIGxvbmcgZW5vdWdoIG9yIGludGVyYWN0cyBzbyB0aGUgc2Vzc2lvbiBjb3VudHMgYXMgZW5nYWdlZC48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjMmMzZTUwOyI+c2Vzc2lvbl9zdGFydDwvdGQ+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogIzU1NTsiPlJlY29yZGVkIHdoZW4gYSBuZXcgdmlzaXQgYmVnaW5zLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMyYzNlNTA7Ij5maXJzdF92aXNpdDwvdGQ+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogIzU1NTsiPlJlY29yZGVkIHRoZSBmaXJzdCB0aW1lIGEgZGV2aWNlL2Jyb3dzZXIgZXZlciB2aXNpdHMgdGhlIHNpdGUuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPnNjcm9sbDwvdGQ+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogIzU1NTsiPlJlY29yZGVkIHdoZW4gYSB2aXNpdG9yIHNjcm9sbHMgZG93biBmYXIgZW5vdWdoIG9uIGEgcGFnZSwgc2hvd2luZyB0aGV5IGxvb2tlZCBiZXlvbmQgdGhlIHRvcC48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjMmMzZTUwOyI+Zm9ybV9zdGFydCAvIGZvcm1fc3VibWl0PC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+Zm9ybV9zdGFydDogd2hlbiBzb21lb25lIGJlZ2lucyBmaWxsaW5nIG91dCBhIGZvcm0uIGZvcm1fc3VibWl0OiB3aGVuIHRoZXkgc3VjY2Vzc2Z1bGx5IHNlbmQgaXQuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzJjM2U1MDsiPmNsaWNrPC90ZD48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGNvbG9yOiAjNTU1OyI+UmVjb3JkZWQgd2hlbiBhIHRyYWNrZWQgbGluayBvciBidXR0b24gaXMgY2xpY2tlZC48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjMmMzZTUwOyI+ZmlsZV9kb3dubG9hZDwvdGQ+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogIzU1NTsiPlJlY29yZGVkIHdoZW4gYSB2aXNpdG9yIGRvd25sb2FkcyBhIHRyYWNrZWQgZmlsZSwgc3VjaCBhcyBhIFBERiBvciBicm9jaHVyZS48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjMmMzZTUwOyI+Y2xpY2tfYnV5X29ubGluZTwvdGQ+PHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogIzU1NTsiPlJlY29yZGVkIHdoZW4gYSB2aXNpdG9yIGNsaWNrcyBhICJidXkgb25saW5lIiBvciBzaW1pbGFyIG91dGJvdW5kIHB1cmNoYXNlIGxpbmsuPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgCiAgICA8ZGl2IGNsYXNzPSJmb290ZXIiPgogICAgICAgIDxwPjxzdHJvbmc+VGVuYWNpb3VzIFRhcGVzPC9zdHJvbmc+IC0gQWRoZXNpdmUgVGFwZXMgZm9yIGV2ZXJ5IGFwcGxpY2F0aW9uPC9wPgogICAgICAgIDxwPvCfk54gKzYxICgwKTMgOTU4MCA1NTczIHwg4pyJ77iPIGN1c3RvbWVyc2VydmljZUB0ZW5hY2lvdXN0YXBlcy5jb20uYXU8L3A+CiAgICAgICAgPHAgY2xhc3M9ImZvb3Rlci12ZXJzaW9uIiBpZD0idmVyc2lvbkRpc3BsYXkiPkJ1aWxkIHYxLjAuMDwvcD4KICAgIDwvZGl2PgogICAgPC9kaXY+IDwhLS0gRW5kIG1haW4tY29udGVudCAtLT4KICAgIAogICAgPHNjcmlwdD4KICAgICAgICAvLyBQYXNzd29yZCBQcm90ZWN0aW9uIC0gRlJFRSBTb2x1dGlvbgogICAgICAgIC8vIFBhc3N3b3JkOiBUZW5hY2lvdXMyMDI1IChjaGFuZ2UgdGhpcyB0byB5b3VyIHByZWZlcnJlZCBwYXNzd29yZCkKICAgICAgICBjb25zdCBEQVNIQk9BUkRfUEFTU1dPUkQgPSAnVGVuYWNpb3VzMjAyNSc7CiAgICAgICAgY29uc3QgQVVUSF9LRVkgPSAnZGFzaGJvYXJkX2F1dGhlbnRpY2F0ZWQnOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGxvY2FsIGRldmVsb3BtZW50IChza2lwIHBhc3N3b3JkIHByb3RlY3Rpb24pCiAgICAgICAgY29uc3QgaXNMb2NhbERldiA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJzsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGF1dGhlbnRpY2F0ZWQKICAgICAgICBmdW5jdGlvbiBjaGVja0F1dGgoKSB7CiAgICAgICAgICAgIC8vIFNraXAgcGFzc3dvcmQgcHJvdGVjdGlvbiBpbiBsb2NhbCBkZXZlbG9wbWVudAogICAgICAgICAgICBpZiAoaXNMb2NhbERldikgewogICAgICAgICAgICAgICAgc2hvd0Rhc2hib2FyZCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBhdXRoZW50aWNhdGVkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShBVVRIX0tFWSk7CiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGVkID09PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgIHNob3dEYXNoYm9hcmQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dQYXNzd29yZFNjcmVlbigpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFNob3cgcGFzc3dvcmQgc2NyZWVuCiAgICAgICAgZnVuY3Rpb24gc2hvd1Bhc3N3b3JkU2NyZWVuKCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQtcHJvdGVjdGlvbi1vdmVybGF5JykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWNvbnRlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdhdXRoZW50aWNhdGVkJyk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZC1pbnB1dCcpLmZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFNob3cgZGFzaGJvYXJkCiAgICAgICAgZnVuY3Rpb24gc2hvd0Rhc2hib2FyZCgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkLXByb3RlY3Rpb24tb3ZlcmxheScpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1jb250ZW50JykuY2xhc3NMaXN0LmFkZCgnYXV0aGVudGljYXRlZCcpOwogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKEFVVEhfS0VZLCAndHJ1ZScpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDaGVjayBwYXNzd29yZCBvbiBmb3JtIHN1Ym1pdAogICAgICAgIGZ1bmN0aW9uIGNoZWNrUGFzc3dvcmQoZXZlbnQpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQtaW5wdXQnKTsKICAgICAgICAgICAgY29uc3QgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQtZXJyb3InKTsKICAgICAgICAgICAgY29uc3QgZW50ZXJlZFBhc3N3b3JkID0gaW5wdXQudmFsdWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZW50ZXJlZFBhc3N3b3JkID09PSBEQVNIQk9BUkRfUEFTU1dPUkQpIHsKICAgICAgICAgICAgICAgIGVycm9yRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICAgICAgICAgIHNob3dEYXNoYm9hcmQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVycm9yRGl2LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsKICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpOwogICAgICAgICAgICAgICAgLy8gU2hha2UgYW5pbWF0aW9uCiAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5hbmltYXRpb24gPSAnc2hha2UgMC41cyc7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5hbmltYXRpb24gPSAnJzsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gQWRkIHNoYWtlIGFuaW1hdGlvbgogICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGAKICAgICAgICAgICAgQGtleWZyYW1lcyBzaGFrZSB7CiAgICAgICAgICAgICAgICAwJSwgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfQogICAgICAgICAgICAgICAgMjUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMHB4KTsgfQogICAgICAgICAgICAgICAgNzUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwcHgpOyB9CiAgICAgICAgICAgIH0KICAgICAgICBgOwogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIG9uIHBhZ2UgbG9hZAogICAgICAgIGNoZWNrQXV0aCgpOwogICAgICAgIAogICAgICAgIC8vIEFsbG93IEVudGVyIGtleSB0byBzdWJtaXQKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQtaW5wdXQnKTsKICAgICAgICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHsKICAgICAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFzc3dvcmQoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAvLyBPcmlnaW5hbCBzY3JpcHQgY29udGludWVzLi4uCiAgICAgICAgLy8gU2V0IGRlZmF1bHQgZGF0ZXMKICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgICAgY29uc3QgdGhpcnR5RGF5c0FnbyA9IG5ldyBEYXRlKHRvZGF5KTsKICAgICAgICB0aGlydHlEYXlzQWdvLnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpIC0gMzApOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydERhdGUnKS52YWx1ZUFzRGF0ZSA9IHRoaXJ0eURheXNBZ287CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuZERhdGUnKS52YWx1ZUFzRGF0ZSA9IHRvZGF5OwogICAgICAgIAogICAgICAgIC8vIEdldCBBUEkgYmFzZSBVUkwgKHVzZSBsb2NhbCBiYWNrZW5kIGluIGRldiwgVmVyY2VsIGluIHByb2R1Y3Rpb24pCiAgICAgICAgLy8gaXNMb2NhbERldiBpcyBhbHJlYWR5IGRlZmluZWQgYWJvdmUgZm9yIHBhc3N3b3JkIHByb3RlY3Rpb24KICAgICAgICBjb25zdCBBUElfQkFTRSA9IGlzTG9jYWxEZXYgPyAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJyA6ICh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hcGknKTsKICAgICAgICAKICAgICAgICAvLyBMb2FkIGFuZCBkaXNwbGF5IHZlcnNpb24KICAgICAgICBmZXRjaCgnL3ZlcnNpb24udHh0JykKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKQogICAgICAgICAgICAudGhlbih2ZXJzaW9uID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25EaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZlcnNpb25EaXNwbGF5Jyk7CiAgICAgICAgICAgICAgICBpZiAodmVyc2lvbkRpc3BsYXkpIHsKICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uRGlzcGxheS50ZXh0Q29udGVudCA9IGBCdWlsZCB2JHt2ZXJzaW9uLnRyaW0oKX1gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgLy8gSWYgdmVyc2lvbiBmaWxlIGRvZXNuJ3QgZXhpc3QsIGtlZXAgZGVmYXVsdAogICAgICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAvLyBQcm90ZWN0aW9uIGJ5cGFzcyBzZWNyZXQgKGlmIGF2YWlsYWJsZSkKICAgICAgICAvLyBDYW4gYmUgcGFzc2VkIHZpYSBVUkwgcGFyYW1ldGVyOiA/eC12ZXJjZWwtcHJvdGVjdGlvbi1ieXBhc3M9U0VDUkVUCiAgICAgICAgLy8gT3Igc2V0IHRoZSBkZWZhdWx0IHNlY3JldCBoZXJlIChmb3IgY29udmVuaWVuY2UsIGJ1dCBub3RlOiB0aGlzIGV4cG9zZXMgaXQgaW4gY2xpZW50LXNpZGUgY29kZSkKICAgICAgICBjb25zdCBCWVBBU1NfU0VDUkVUID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKS5nZXQoJ3gtdmVyY2VsLXByb3RlY3Rpb24tYnlwYXNzJykgCiAgICAgICAgICAgIHx8ICc2OTYyZjM4MWM1NGQ0MWQ2ZGU4ZmIzMDM2NDVjOTM4ZGQ2YjRmZjY4NzBmMzg1NGM5ZTk3MmEyMTQ1MzBmNDc0JzsKICAgICAgICAKICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gYWRkIGJ5cGFzcyB0byByZXF1ZXN0cwogICAgICAgIGZ1bmN0aW9uIGdldEFwaVVybChlbmRwb2ludCwgcGFyYW1zID0ge30pIHsKICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChBUElfQkFTRSArIGVuZHBvaW50LCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKTsKICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGtleSA9PiB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHBhcmFtc1trZXldKSk7CiAgICAgICAgICAgIGlmIChCWVBBU1NfU0VDUkVUKSB7CiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgneC12ZXJjZWwtcHJvdGVjdGlvbi1ieXBhc3MnLCBCWVBBU1NfU0VDUkVUKTsKICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCd4LXZlcmNlbC1zZXQtYnlwYXNzLWNvb2tpZScsICd0cnVlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gZm9yIGZldGNoIHdpdGggYnlwYXNzCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hXaXRoQnlwYXNzKHVybCwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMgfHwge30pOwogICAgICAgICAgICBpZiAoQllQQVNTX1NFQ1JFVCkgewogICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ3gtdmVyY2VsLXByb3RlY3Rpb24tYnlwYXNzJywgQllQQVNTX1NFQ1JFVCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQWRkIGJ5cGFzcyB0byBVUkwgYXMgd2VsbCAocmVxdWlyZWQgYnkgVmVyY2VsKQogICAgICAgICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7CiAgICAgICAgICAgIGlmIChCWVBBU1NfU0VDUkVUKSB7CiAgICAgICAgICAgICAgICB1cmxPYmouc2VhcmNoUGFyYW1zLnNldCgneC12ZXJjZWwtcHJvdGVjdGlvbi1ieXBhc3MnLCBCWVBBU1NfU0VDUkVUKTsKICAgICAgICAgICAgICAgIHVybE9iai5zZWFyY2hQYXJhbXMuc2V0KCd4LXZlcmNlbC1zZXQtYnlwYXNzLWNvb2tpZScsICd0cnVlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZldGNoKHVybE9iai50b1N0cmluZygpLCB7IC4uLm9wdGlvbnMsIGhlYWRlcnMgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnREYXRlJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5kRGF0ZScpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94LWdyb3VwIGlucHV0W3R5cGU9ImNoZWNrYm94Il06Y2hlY2tlZCcpOwogICAgICAgICAgICBjb25zdCBzZWN0aW9ucyA9IEFycmF5LmZyb20oY2hlY2tib3hlcykubWFwKGNiID0+IGNiLnZhbHVlKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBib3RoIHN0YXJ0IGFuZCBlbmQgZGF0ZXMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7CiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImxvYWRpbmciPkxvYWRpbmcgZGF0YS4uLjwvZGl2Pic7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTdG9yZSBzZWN0aW9ucyBieSBuYW1lIGZvciB0YWJiZWQgaW50ZXJmYWNlCiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25zRGF0YSA9IHt9OwogICAgICAgICAgICBjb25zdCBjaGFydFJlbmRlcmVycyA9IFtdOyAvLyBTdG9yZSBjaGFydCByZW5kZXJpbmcgZnVuY3Rpb25zCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBBZGQgY2FjaGUtYnVzdGluZyB0aW1lc3RhbXAgdG8gZW5zdXJlIGZyZXNoIGRhdGEKICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBPdmVydmlldwogICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ092ZXJ2aWV3JykpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gZ2V0QXBpVXJsKCcvYW5hbHl0aWNzL292ZXJ2aWV3JywgeyBzdGFydF9kYXRlOiBzdGFydERhdGUsIGVuZF9kYXRlOiBlbmREYXRlIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoQnlwYXNzKHVybCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ092ZXJ2aWV3IGVycm9yOicsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtlcnJvclRleHR9YCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSByZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbnNEYXRhWydPdmVydmlldyddID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPlRyYWZmaWMgT3ZlcnZpZXc8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpY3MtZ3JpZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1sYWJlbCI+JHtjcmVhdGVUb29sdGlwKCdUb3RhbCBTZXNzaW9ucycsIHRvb2x0aXBzWydUb3RhbCBTZXNzaW9ucyddKX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy12YWx1ZSI+JHtmb3JtYXROdW1iZXIoc3RhdHMuc2Vzc2lvbnMgfHwgMCl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtbGFiZWwiPiR7Y3JlYXRlVG9vbHRpcCgnVG90YWwgVXNlcnMnLCB0b29sdGlwc1snVG90YWwgVXNlcnMnXSl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtdmFsdWUiPiR7Zm9ybWF0TnVtYmVyKHN0YXRzLnRvdGFsVXNlcnMgfHwgMCl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtbGFiZWwiPiR7Y3JlYXRlVG9vbHRpcCgnUGFnZSBWaWV3cycsIHRvb2x0aXBzWydQYWdlIFZpZXdzJ10pfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0cmljLXZhbHVlIj4ke2Zvcm1hdE51bWJlcihzdGF0cy5zY3JlZW5QYWdlVmlld3MgfHwgMCl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtbGFiZWwiPiR7Y3JlYXRlVG9vbHRpcCgnRW5nYWdlbWVudCBSYXRlJywgdG9vbHRpcHNbJ0VuZ2FnZW1lbnQgUmF0ZSddKX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy12YWx1ZSI+JHsoKHN0YXRzLmVuZ2FnZW1lbnRSYXRlIHx8IDApICogMTAwKS50b0ZpeGVkKDEpfSU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcic7CiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbnNEYXRhWydPdmVydmlldyddID0gYDxkaXYgY2xhc3M9ImVycm9yIj5FcnJvciBsb2FkaW5nIG92ZXJ2aWV3OiAke2Vycm9yTXNnfTwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignT3ZlcnZpZXcgZXJyb3IgZGV0YWlsczonLCBlcnJvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFRyYWZmaWMgU291cmNlcwogICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ1RyYWZmaWMgU291cmNlcycpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGdldEFwaVVybCgnL2FuYWx5dGljcy9zb3VyY2VzJywgeyBzdGFydF9kYXRlOiBzdGFydERhdGUsIGVuZF9kYXRlOiBlbmREYXRlLCBsaW1pdDogMTAsIF90OiB0aW1lc3RhbXAgfSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhCeXBhc3ModXJsKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU291cmNlcyBlcnJvcjonLCByZXNwb25zZS5zdGF0dXMsIGVycm9yVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbnNEYXRhWydUcmFmZmljIFNvdXJjZXMnXSA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5UcmFmZmljIFNvdXJjZXM8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNvdXJjZXNDaGFydCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgY2hhcnQgcmVuZGVyZXIKICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnRSZW5kZXJlcnMucHVzaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEubWFwKGQgPT4gKHtuYW1lOiBkLnNlc3Npb25Tb3VyY2VNZWRpdW0sIHZhbHVlOiBwYXJzZUludChkLnNlc3Npb25zKX0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgYnkgdmFsdWUgdG8gZW5zdXJlIGxhcmdlc3Qgc2xpY2VzIGdldCBtb3N0IGRpc3RpbmN0IGNvbG9ycwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkRGF0YSA9IFsuLi5kYXRhXS5zb3J0KChhLCBiKSA9PiBiLnZhbHVlIC0gYS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdmVyeSBkaXN0aW5jdCBjb2xvcnMgLSBvcmFuZ2UgZm9yIGJyYW5kLCBibHVlIGZvciBzZWNvbmQsIHRoZW4gdmFyaWVkIGNvbG9ycwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JQYWxldHRlID0gWycjZmY1ODAwJywgJyM0YTkwZTInLCAnIzUwYzg3OCcsICcjZjM5YzEyJywgJyM5YjU5YjYnLCAnI2U3NGMzYycsICcjMWFiYzljJywgJyMzNDQ5NWUnLCAnI2U2N2UyMicsICcjMTZhMDg1J107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgY29sb3JzIHRvIHNvcnRlZCBkYXRhLCB0aGVuIHJlb3JkZXIgdG8gb3JpZ2luYWwgZGF0YSBvcmRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JNYXAgPSBuZXcgTWFwKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWREYXRhLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yTWFwLnNldChpdGVtLm5hbWUsIGNvbG9yUGFsZXR0ZVtpZHggJSBjb2xvclBhbGV0dGUubGVuZ3RoXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IGRhdGEubWFwKGQgPT4gY29sb3JNYXAuZ2V0KGQubmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxvdGx5Lm5ld1Bsb3QoJ3NvdXJjZXNDaGFydCcsIFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBkYXRhLm1hcChkID0+IGQudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogZGF0YS5tYXAoZCA9PiBkLm5hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjoge2NvbG9yczogY29sb3JzfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1Nlc3Npb25zIGJ5IFNvdXJjZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge2ZhbWlseTogJ1JvYm90byd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InOwogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zRGF0YVsnVHJhZmZpYyBTb3VyY2VzJ10gPSBgPGRpdiBjbGFzcz0iZXJyb3IiPkVycm9yIGxvYWRpbmcgc291cmNlczogJHtlcnJvck1zZ308L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NvdXJjZXMgZXJyb3IgZGV0YWlsczonLCBlcnJvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFRvcCBQYWdlcwogICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ1RvcCBQYWdlcycpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGdldEFwaVVybCgnL2FuYWx5dGljcy9wYWdlcycsIHsgc3RhcnRfZGF0ZTogc3RhcnREYXRlLCBlbmRfZGF0ZTogZW5kRGF0ZSwgbGltaXQ6IDIwLCBfdDogdGltZXN0YW1wIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoQnlwYXNzKHVybCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhZ2VzIGVycm9yOicsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtlcnJvclRleHR9YCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uc0RhdGFbJ1RvcCBQYWdlcyddID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPlRvcCBQYWdlczwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPiR7Y3JlYXRlVG9vbHRpcCgnUGFnZSBUaXRsZScsIHRvb2x0aXBzWydQYWdlIFRpdGxlJ10pfTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPiR7Y3JlYXRlVG9vbHRpcCgnUGF0aCcsIHRvb2x0aXBzWydQYXRoJ10pfTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPiR7Y3JlYXRlVG9vbHRpcCgnVmlld3MnLCB0b29sdGlwc1snVmlld3MnXSl9PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+JHtjcmVhdGVUb29sdGlwKCdVc2VycycsIHRvb2x0aXBzWydVc2VycyddKX08L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtyZXN1bHQuZGF0YS5tYXAocGFnZSA9PiBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwYWdlLnBhZ2VUaXRsZSB8fCAnTi9BJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwYWdlLnBhZ2VQYXRoIHx8ICdOL0EnfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdE51bWJlcihwYWdlLnNjcmVlblBhZ2VWaWV3cyB8fCAwKX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtmb3JtYXROdW1iZXIocGFnZS5hY3RpdmVVc2VycyB8fCAwKX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InOwogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zRGF0YVsnVG9wIFBhZ2VzJ10gPSBgPGRpdiBjbGFzcz0iZXJyb3IiPkVycm9yIGxvYWRpbmcgcGFnZXM6ICR7ZXJyb3JNc2d9PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYWdlcyBlcnJvciBkZXRhaWxzOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVXNlciBSZXRlbnRpb24KICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdVc2VyIFJldGVudGlvbicpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGdldEFwaVVybCgnL2FuYWx5dGljcy9yZXRlbnRpb24nLCB7IHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgZW5kX2RhdGU6IGVuZERhdGUsIF90OiB0aW1lc3RhbXAgfSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhCeXBhc3ModXJsKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbnNEYXRhWydVc2VyIFJldGVudGlvbiddID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPlVzZXIgUmV0ZW50aW9uPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyZXRlbnRpb25DaGFydCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgY2hhcnQgcmVuZGVyZXIKICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnRSZW5kZXJlcnMucHVzaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEubWFwKGQgPT4gKHtuYW1lOiBkLm5ld1ZzUmV0dXJuaW5nLCB2YWx1ZTogcGFyc2VJbnQoZC5zZXNzaW9ucyl9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbG90bHkubmV3UGxvdCgncmV0ZW50aW9uQ2hhcnQnLCBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogZGF0YS5tYXAoZCA9PiBkLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IGRhdGEubWFwKGQgPT4gZC5uYW1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtjb2xvcnM6IFsnI2ZmNTgwMCcsICcjNGE5MGUyJywgJyM1MGM4NzgnLCAnI2YzOWMxMiddfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ05ldyB2cyBSZXR1cm5pbmcgVXNlcnMnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtmYW1pbHk6ICdSb2JvdG8nfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbnNEYXRhWydVc2VyIFJldGVudGlvbiddID0gYDxkaXYgY2xhc3M9ImVycm9yIj5FcnJvciBsb2FkaW5nIHJldGVudGlvbjogJHtlcnJvci5tZXNzYWdlfTwvZGl2PmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEdlb2dyYXBoaWNzIChDaXRpZXMgYW5kIENvdW50cmllcykKICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdHZW9ncmFwaGljcycpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIC8vIENpdGllcwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpdGllc1VybCA9IGdldEFwaVVybCgnL2FuYWx5dGljcy9jaXRpZXMnLCB7IHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgZW5kX2RhdGU6IGVuZERhdGUsIGxpbWl0OiAxMCwgX3Q6IHRpbWVzdGFtcCB9KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjaXRpZXNSZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEJ5cGFzcyhjaXRpZXNVcmwpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpdGllc1Jlc3VsdCA9IGF3YWl0IGNpdGllc1Jlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDb3VudHJpZXMKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudHJpZXNVcmwgPSBnZXRBcGlVcmwoJy9hbmFseXRpY3MvY291bnRyaWVzJywgeyBzdGFydF9kYXRlOiBzdGFydERhdGUsIGVuZF9kYXRlOiBlbmREYXRlLCBfdDogdGltZXN0YW1wIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50cmllc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoQnlwYXNzKGNvdW50cmllc1VybCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnRyaWVzUmVzdWx0ID0gYXdhaXQgY291bnRyaWVzUmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmICgoY2l0aWVzUmVzdWx0LnN1Y2Nlc3MgJiYgY2l0aWVzUmVzdWx0LmRhdGEgJiYgY2l0aWVzUmVzdWx0LmRhdGEubGVuZ3RoID4gMCkgfHwKICAgICAgICAgICAgICAgICAgICAgICAgKGNvdW50cmllc1Jlc3VsdC5zdWNjZXNzICYmIGNvdW50cmllc1Jlc3VsdC5kYXRhICYmIGNvdW50cmllc1Jlc3VsdC5kYXRhLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBnZW9IVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkdlb2dyYXBoaWMgRGlzdHJpYnV0aW9uPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaXRpZXNSZXN1bHQuc3VjY2VzcyAmJiBjaXRpZXNSZXN1bHQuZGF0YSAmJiBjaXRpZXNSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9IVE1MICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9Im1hcmdpbi10b3A6IDFyZW07IG1hcmdpbi1ib3R0b206IDFyZW07Ij5Ub3AgQ2l0aWVzPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9Im1hcmdpbi1ib3R0b206IDJyZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5DaXR5PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+U2Vzc2lvbnM8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjaXRpZXNSZXN1bHQuZGF0YS5tYXAoY2l0eSA9PiBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtjaXR5LmNpdHkgfHwgJ04vQSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Zm9ybWF0TnVtYmVyKGNpdHkuc2Vzc2lvbnMgfHwgMCl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCkuam9pbignJyl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJpZXNSZXN1bHQuc3VjY2VzcyAmJiBjb3VudHJpZXNSZXN1bHQuZGF0YSAmJiBjb3VudHJpZXNSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9IVE1MICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9Im1hcmdpbi10b3A6IDFyZW07IG1hcmdpbi1ib3R0b206IDFyZW07Ij5Ub3AgQ291bnRyaWVzPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjb3VudHJpZXNDaGFydCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgY2hhcnQgcmVuZGVyZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0UmVuZGVyZXJzLnB1c2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcENvdW50cmllcyA9IGNvdW50cmllc1Jlc3VsdC5kYXRhLnNsaWNlKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbG90bHkubmV3UGxvdCgnY291bnRyaWVzQ2hhcnQnLCBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0b3BDb3VudHJpZXMubWFwKGMgPT4gYy5jb3VudHJ5KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdG9wQ291bnRyaWVzLm1hcChjID0+IHBhcnNlSW50KGMuc2Vzc2lvbnMpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjoge2NvbG9yOiAnI2ZmNTgwMCd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTZXNzaW9ucyBieSBDb3VudHJ5IChUb3AgMTApJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGF4aXM6IHt0aXRsZTogJ0NvdW50cnknfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWF4aXM6IHt0aXRsZTogJ1Nlc3Npb25zJ30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtmYW1pbHk6ICdSb2JvdG8nfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGdlb0hUTUwgKz0gYDwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zRGF0YVsnR2VvZ3JhcGhpY3MnXSA9IGdlb0hUTUw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBzZWN0aW9uc0RhdGFbJ0dlb2dyYXBoaWNzJ10gPSBgPGRpdiBjbGFzcz0iZXJyb3IiPkVycm9yIGxvYWRpbmcgZ2VvZ3JhcGhpY3M6ICR7ZXJyb3IubWVzc2FnZX08L2Rpdj5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUZWNoL0RldmljZXMKICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdUZWNoL0RldmljZXMnKSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBnZXRBcGlVcmwoJy9hbmFseXRpY3MvZGV2aWNlcycsIHsgc3RhcnRfZGF0ZTogc3RhcnREYXRlLCBlbmRfZGF0ZTogZW5kRGF0ZSB9KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEJ5cGFzcyh1cmwpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uc0RhdGFbJ1RlY2gvRGV2aWNlcyddID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkRldmljZSBDYXRlZ29yaWVzPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkZXZpY2VzQ2hhcnQiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIGNoYXJ0IHJlbmRlcmVyCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0UmVuZGVyZXJzLnB1c2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3VsdC5kYXRhLm1hcChkID0+ICh7bmFtZTogZC5kZXZpY2VDYXRlZ29yeSwgdmFsdWU6IHBhcnNlSW50KGQuc2Vzc2lvbnMpfSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxvdGx5Lm5ld1Bsb3QoJ2RldmljZXNDaGFydCcsIFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBkYXRhLm1hcChkID0+IGQudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogZGF0YS5tYXAoZCA9PiBkLm5hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjoge2NvbG9yczogWycjZmY1ODAwJywgJyM0YTkwZTInLCAnIzUwYzg3OCcsICcjZjM5YzEyJ119CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2Vzc2lvbnMgYnkgRGV2aWNlIENhdGVnb3J5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7ZmFtaWx5OiAnUm9ib3RvJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zRGF0YVsnVGVjaC9EZXZpY2VzJ10gPSBgPGRpdiBjbGFzcz0iZXJyb3IiPkVycm9yIGxvYWRpbmcgZGV2aWNlczogJHtlcnJvci5tZXNzYWdlfTwvZGl2PmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEV2ZW50cwogICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ0V2ZW50cycpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGdldEFwaVVybCgnL2FuYWx5dGljcy9ldmVudHMnLCB7IHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgZW5kX2RhdGU6IGVuZERhdGUsIGxpbWl0OiAyMCwgX3Q6IHRpbWVzdGFtcCB9KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEJ5cGFzcyh1cmwpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uc0RhdGFbJ0V2ZW50cyddID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPlRvcCBFdmVudHM8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImV2ZW50c0NoYXJ0Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9Im1hcmdpbi10b3A6IDJyZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4ke2NyZWF0ZVRvb2x0aXAoJ0V2ZW50IE5hbWUnLCB0b29sdGlwc1snRXZlbnQgTmFtZSddKX08L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4ke2NyZWF0ZVRvb2x0aXAoJ0V2ZW50IENvdW50JywgdG9vbHRpcHNbJ0V2ZW50IENvdW50J10gfHwgdG9vbHRpcHNbJ0NvdW50J10pfTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Jlc3VsdC5kYXRhLm1hcChldmVudCA9PiBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtldmVudC5ldmVudE5hbWUgfHwgJ04vQSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Zm9ybWF0TnVtYmVyKGV2ZW50LmV2ZW50Q291bnQgfHwgMCl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCkuam9pbignJyl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBjaGFydCByZW5kZXJlcgogICAgICAgICAgICAgICAgICAgICAgICBjaGFydFJlbmRlcmVycy5wdXNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcEV2ZW50cyA9IHJlc3VsdC5kYXRhLnNsaWNlKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsb3RseS5uZXdQbG90KCdldmVudHNDaGFydCcsIFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdG9wRXZlbnRzLm1hcChlID0+IGUuZXZlbnROYW1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0b3BFdmVudHMubWFwKGUgPT4gcGFyc2VJbnQoZS5ldmVudENvdW50KSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7Y29sb3I6ICcjZmY1ODAwJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdUb3AgRXZlbnRzIChUb3AgMTApJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4YXhpczoge3RpdGxlOiAnRXZlbnQgTmFtZScsIHRpY2thbmdsZTogLTQ1fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YXhpczoge3RpdGxlOiAnRXZlbnQgQ291bnQnfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7ZmFtaWx5OiAnUm9ib3RvJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zRGF0YVsnRXZlbnRzJ10gPSBgPGRpdiBjbGFzcz0iZXJyb3IiPkVycm9yIGxvYWRpbmcgZXZlbnRzOiAke2Vycm9yLm1lc3NhZ2V9PC9kaXY+YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQnVzaW5lc3MgUHJvZmlsZQogICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ0J1c2luZXNzIFByb2ZpbGUnKSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyBGZXRjaCByYXRpbmdzIHN1bW1hcnkKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRpbmdzVXJsID0gZ2V0QXBpVXJsKCcvYnVzaW5lc3MtcHJvZmlsZS9yYXRpbmdzJywgeyBfdDogdGltZXN0YW1wIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZ3NSZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEJ5cGFzcyhyYXRpbmdzVXJsKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBGZXRjaCByZXZpZXdzCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2aWV3c1VybCA9IGdldEFwaVVybCgnL2J1c2luZXNzLXByb2ZpbGUvcmV2aWV3cycsIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlOiBlbmREYXRlLCAKICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDIwLAogICAgICAgICAgICAgICAgICAgICAgICBfdDogdGltZXN0YW1wIAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmlld3NSZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEJ5cGFzcyhyZXZpZXdzVXJsKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBGZXRjaCBpbnNpZ2h0cwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc2lnaHRzVXJsID0gZ2V0QXBpVXJsKCcvYnVzaW5lc3MtcHJvZmlsZS9pbnNpZ2h0cycsIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlOiBlbmREYXRlLAogICAgICAgICAgICAgICAgICAgICAgICBfdDogdGltZXN0YW1wIAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc2lnaHRzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhCeXBhc3MoaW5zaWdodHNVcmwpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZ3NSZXN1bHQgPSByYXRpbmdzUmVzcG9uc2Uub2sgPyBhd2FpdCByYXRpbmdzUmVzcG9uc2UuanNvbigpIDoge3N1Y2Nlc3M6IGZhbHNlLCBkYXRhOiB7fX07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2aWV3c1Jlc3VsdCA9IHJldmlld3NSZXNwb25zZS5vayA/IGF3YWl0IHJldmlld3NSZXNwb25zZS5qc29uKCkgOiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFtdfTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnNpZ2h0c1Jlc3VsdCA9IGluc2lnaHRzUmVzcG9uc2Uub2sgPyBhd2FpdCBpbnNpZ2h0c1Jlc3BvbnNlLmpzb24oKSA6IHtzdWNjZXNzOiBmYWxzZSwgZGF0YToge319OwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGxldCBicEhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkdvb2dsZSBCdXNpbmVzcyBQcm9maWxlPC9oMj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFJhdGluZ3MgU3VtbWFyeQogICAgICAgICAgICAgICAgICAgIGlmIChyYXRpbmdzUmVzdWx0LnN1Y2Nlc3MgJiYgcmF0aW5nc1Jlc3VsdC5kYXRhICYmIHJhdGluZ3NSZXN1bHQuZGF0YS50b3RhbFJldmlld3MgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZ3MgPSByYXRpbmdzUmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIGJwSFRNTCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAycmVtOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogIzJjM2U1MDsgbWFyZ2luLWJvdHRvbTogMXJlbTsiPlJhdGluZ3MgU3VtbWFyeTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0cmljcy1ncmlkIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMS41cmVtOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1sYWJlbCI+QXZlcmFnZSBSYXRpbmc8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy12YWx1ZSI+JHtyYXRpbmdzLmF2ZXJhZ2VSYXRpbmcudG9GaXhlZCgxKX0g4q2QPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtbGFiZWwiPlRvdGFsIFJldmlld3M8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy12YWx1ZSI+JHtmb3JtYXROdW1iZXIocmF0aW5ncy50b3RhbFJldmlld3MpfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyYXRpbmdzQ2hhcnQiIHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAzMDBweDsgbWFyZ2luLWJvdHRvbTogMnJlbTsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBjaGFydCByZW5kZXJlciBmb3IgcmF0aW5ncyBkaXN0cmlidXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnRSZW5kZXJlcnMucHVzaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gcmF0aW5ncy5yYXRpbmdEaXN0cmlidXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbG90bHkubmV3UGxvdCgncmF0aW5nc0NoYXJ0JywgW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBbJzEgU3RhcicsICcyIFN0YXJzJywgJzMgU3RhcnMnLCAnNCBTdGFycycsICc1IFN0YXJzJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogW2Rpc3RbJzEnXSB8fCAwLCBkaXN0WycyJ10gfHwgMCwgZGlzdFsnMyddIHx8IDAsIGRpc3RbJzQnXSB8fCAwLCBkaXN0Wyc1J10gfHwgMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7Y29sb3I6IFsnI2U3NGMzYycsICcjZjM5YzEyJywgJyNmMWM0MGYnLCAnIzM0OThkYicsICcjMmVjYzcxJ119CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUmF0aW5nIERpc3RyaWJ1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGF4aXM6IHt0aXRsZTogJ1JhdGluZyd9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlheGlzOiB7dGl0bGU6ICdOdW1iZXIgb2YgUmV2aWV3cyd9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtmYW1pbHk6ICdSb2JvdG8nfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJwSFRNTCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOiAxcmVtOyBiYWNrZ3JvdW5kOiAjZmZmM2NkOyBib3JkZXI6IDFweCBzb2xpZCAjZmZjMTA3OyBib3JkZXItcmFkaXVzOiA2cHg7IG1hcmdpbi1ib3R0b206IDJyZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM4NTY0MDQ7IG1hcmdpbjogMDsiPuKaoO+4jyBCdXNpbmVzcyBQcm9maWxlIEFQSSBub3QgY29uZmlndXJlZC4gU2VlIHNldHVwIGluc3RydWN0aW9ucyBpbiBHT09HTEVfQlVTSU5FU1NfUFJPRklMRV9QTEFOLm1kPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFJlY2VudCBSZXZpZXdzCiAgICAgICAgICAgICAgICAgICAgaWYgKHJldmlld3NSZXN1bHQuc3VjY2VzcyAmJiByZXZpZXdzUmVzdWx0LmRhdGEgJiYgcmV2aWV3c1Jlc3VsdC5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2aWV3cyA9IHJldmlld3NSZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgYnBIVE1MICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDJyZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjMmMzZTUwOyBtYXJnaW4tYm90dG9tOiAxcmVtOyI+UmVjZW50IFJldmlld3M8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5EYXRlPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+UmF0aW5nPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+UmV2aWV3ZXI8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5Db21tZW50PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld3Muc2xpY2UoMCwgMTApLmZvckVhY2gocmV2aWV3ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmlld0RhdGUgPSBuZXcgRGF0ZShyZXZpZXcuY3JlYXRlVGltZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFycyA9ICfirZAnLnJlcGVhdChyZXZpZXcuc3RhclJhdGluZyB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSAocmV2aWV3LmNvbW1lbnQgfHwgJycpLnN1YnN0cmluZygwLCAxMDApICsgKHJldmlldy5jb21tZW50ICYmIHJldmlldy5jb21tZW50Lmxlbmd0aCA+IDEwMCA/ICcuLi4nIDogJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicEhUTUwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cmV2aWV3RGF0ZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtzdGFyc30gKCR7cmV2aWV3LnN0YXJSYXRpbmd9KTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Jldmlldy5yZXZpZXdlciB8fCAnQW5vbnltb3VzJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtjb21tZW50IHx8ICdObyBjb21tZW50J308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGJwSFRNTCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBJbnNpZ2h0cyAoaWYgYXZhaWxhYmxlKQogICAgICAgICAgICAgICAgICAgIGlmIChpbnNpZ2h0c1Jlc3VsdC5zdWNjZXNzICYmIGluc2lnaHRzUmVzdWx0LmRhdGEgJiYgIWluc2lnaHRzUmVzdWx0LmRhdGEubm90ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnNpZ2h0cyA9IGluc2lnaHRzUmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnNpZ2h0cy52aWV3cyAmJiAoaW5zaWdodHMudmlld3Muc2VhcmNoID4gMCB8fCBpbnNpZ2h0cy52aWV3cy5tYXBzID4gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJwSFRNTCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMnJlbTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjMmMzZTUwOyBtYXJnaW4tYm90dG9tOiAxcmVtOyI+QnVzaW5lc3MgSW5zaWdodHM8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWNzLWdyaWQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0cmljLWNhcmQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1sYWJlbCI+U2VhcmNoIFZpZXdzPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0cmljLXZhbHVlIj4ke2Zvcm1hdE51bWJlcihpbnNpZ2h0cy52aWV3cy5zZWFyY2ggfHwgMCl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtbGFiZWwiPk1hcHMgVmlld3M8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtdmFsdWUiPiR7Zm9ybWF0TnVtYmVyKGluc2lnaHRzLnZpZXdzLm1hcHMgfHwgMCl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtbGFiZWwiPldlYnNpdGUgQ2xpY2tzPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0cmljLXZhbHVlIj4ke2Zvcm1hdE51bWJlcihpbnNpZ2h0cy5jdXN0b21lckFjdGlvbnM/LndlYnNpdGVDbGlja3MgfHwgMCl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRyaWMtbGFiZWwiPkRpcmVjdGlvbiBSZXF1ZXN0czwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldHJpYy12YWx1ZSI+JHtmb3JtYXROdW1iZXIoaW5zaWdodHMuY3VzdG9tZXJBY3Rpb25zPy5kaXJlY3Rpb25SZXF1ZXN0cyB8fCAwKX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgYnBIVE1MICs9IGA8L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zRGF0YVsnQnVzaW5lc3MgUHJvZmlsZSddID0gYnBIVE1MOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBzZWN0aW9uc0RhdGFbJ0J1c2luZXNzIFByb2ZpbGUnXSA9IGA8ZGl2IGNsYXNzPSJlcnJvciI+RXJyb3IgbG9hZGluZyBCdXNpbmVzcyBQcm9maWxlIGRhdGE6ICR7ZXJyb3IubWVzc2FnZX08L2Rpdj5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBCdWlsZCB0YWJiZWQgaW50ZXJmYWNlIGlmIHdlIGhhdmUgc2VjdGlvbnMKICAgICAgICAgICAgY29uc3Qgc2VjdGlvbk9yZGVyID0gWydPdmVydmlldycsICdUcmFmZmljIFNvdXJjZXMnLCAnVG9wIFBhZ2VzJywgJ1VzZXIgUmV0ZW50aW9uJywgJ0dlb2dyYXBoaWNzJywgJ1RlY2gvRGV2aWNlcycsICdFdmVudHMnLCAnQnVzaW5lc3MgUHJvZmlsZSddOwogICAgICAgICAgICBjb25zdCBhdmFpbGFibGVTZWN0aW9ucyA9IHNlY3Rpb25PcmRlci5maWx0ZXIocyA9PiBzZWN0aW9ucy5pbmNsdWRlcyhzKSAmJiBzZWN0aW9uc0RhdGFbc10pOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IGZpbmFsSFRNTCA9ICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVNlY3Rpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIC8vIEJ1aWxkIHRhYnMgSFRNTAogICAgICAgICAgICAgICAgZmluYWxIVE1MID0gJzxkaXYgY2xhc3M9InRhYnMtY29udGFpbmVyIj4nOwogICAgICAgICAgICAgICAgZmluYWxIVE1MICs9ICc8ZGl2IGNsYXNzPSJ0YWJzLWhlYWRlciI+JzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYXZhaWxhYmxlU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbiwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJJZCA9IGB0YWItJHtzZWN0aW9uLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXHMrL2csICctJykucmVwbGFjZSgvXC8vZywgJy0nKX1gOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaW5kZXggPT09IDAgPyAnYWN0aXZlJyA6ICcnOwogICAgICAgICAgICAgICAgICAgIGZpbmFsSFRNTCArPSBgPGJ1dHRvbiBjbGFzcz0idGFiLWJ1dHRvbiAke2lzQWN0aXZlfSIgb25jbGljaz0ic3dpdGNoVGFiKCcke3RhYklkfScpIiBkYXRhLXRhYj0iJHt0YWJJZH0iPiR7c2VjdGlvbn08L2J1dHRvbj5gOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZpbmFsSFRNTCArPSAnPC9kaXY+JzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQWRkIHRhYiBwYW5lbHMKICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24sIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFiSWQgPSBgdGFiLSR7c2VjdGlvbi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xzKy9nLCAnLScpLnJlcGxhY2UoL1wvL2csICctJyl9YDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGluZGV4ID09PSAwID8gJ2FjdGl2ZScgOiAnJzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uSFRNTCA9IHNlY3Rpb25zRGF0YVtzZWN0aW9uXSB8fCAnJzsKICAgICAgICAgICAgICAgICAgICBmaW5hbEhUTUwgKz0gYDxkaXYgY2xhc3M9InRhYi1wYW5lbCAke2lzQWN0aXZlfSIgaWQ9IiR7dGFiSWR9Ij4ke3NlY3Rpb25IVE1MfTwvZGl2PmA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZmluYWxIVE1MICs9ICc8L2Rpdj4nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZmluYWxIVE1MID0gJzxkaXYgY2xhc3M9ImxvYWRpbmciPk5vIGRhdGEgYXZhaWxhYmxlIGZvciBzZWxlY3RlZCBzZWN0aW9uczwvZGl2Pic7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNldCBIVE1MIGZpcnN0CiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gZmluYWxIVE1MOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVGhlbiByZW5kZXIgYWxsIGNoYXJ0cyBhZnRlciBET00gaXMgcmVhZHkKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjaGFydFJlbmRlcmVycy5mb3JFYWNoKHJlbmRlcmVyID0+IHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlcigpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbmRlcmluZyBjaGFydDonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFRhYiBzd2l0Y2hpbmcgZnVuY3Rpb24KICAgICAgICBmdW5jdGlvbiBzd2l0Y2hUYWIodGFiSWQpIHsKICAgICAgICAgICAgLy8gUHJldmVudCBhbnkgc2Nyb2xsaW5nCiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEhpZGUgYWxsIHRhYiBwYW5lbHMKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1wYW5lbCcpLmZvckVhY2gocGFuZWwgPT4gewogICAgICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBidXR0b25zCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnV0dG9uJykuZm9yRWFjaChidXR0b24gPT4gewogICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNob3cgc2VsZWN0ZWQgdGFiIHBhbmVsCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJJZCk7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZFBhbmVsKSB7CiAgICAgICAgICAgICAgICBzZWxlY3RlZFBhbmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIGNsaWNrZWQgYnV0dG9uCiAgICAgICAgICAgIGNvbnN0IGNsaWNrZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWI9IiR7dGFiSWR9Il1gKTsKICAgICAgICAgICAgaWYgKGNsaWNrZWRCdXR0b24pIHsKICAgICAgICAgICAgICAgIGNsaWNrZWRCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uCiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzY3JvbGxZKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gTmF2aWdhdGlvbiBtZW51IHN3aXRjaGluZyBmdW5jdGlvbgogICAgICAgIGZ1bmN0aW9uIHNob3dOYXZTZWN0aW9uKHNlY3Rpb25JZCwgZXZlbnQpIHsKICAgICAgICAgICAgLy8gUHJldmVudCBhbnkgc2Nyb2xsaW5nCiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEhpZGUgYWxsIGNvbnRlbnQgc2VjdGlvbnMKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1jb250ZW50LXNlY3Rpb24nKS5mb3JFYWNoKHNlY3Rpb24gPT4gewogICAgICAgICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYWxsIG5hdiBpdGVtcwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTaG93IHNlbGVjdGVkIHNlY3Rpb24KICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VjdGlvbklkICsgJy1zZWN0aW9uJyk7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlY3Rpb24pIHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byBjbGlja2VkIG5hdiBpdGVtCiAgICAgICAgICAgIGlmIChldmVudCAmJiBldmVudC50YXJnZXQpIHsKICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gUmVzdG9yZSBzY3JvbGwgcG9zaXRpb24KICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbFkpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBUb29sdGlwIGRlZmluaXRpb25zIC0gaW5pdGlhbGl6ZSB3aXRoIGZhbGxiYWNrLCB0aGVuIGxvYWQgZnJvbSBrZXl0ZXJtcy5qc29uCiAgICAgICAgY29uc3QgdG9vbHRpcHMgPSB7CiAgICAgICAgICAgICdUb3RhbCBTZXNzaW9ucyc6ICdUb3RhbCBudW1iZXIgb2YgdmlzaXRzIHRvIHRoZSBzaXRlIGluIHRoaXMgcGVyaW9kLiBPbmUgcGVyc29uIGNhbiBjcmVhdGUgbXVsdGlwbGUgc2Vzc2lvbnMgaWYgdGhleSByZXR1cm4uJywKICAgICAgICAgICAgJ1RvdGFsIFVzZXJzJzogJ0VzdGltYXRlZCBudW1iZXIgb2YgdW5pcXVlIHBlb3BsZSB3aG8gdmlzaXRlZCB0aGUgc2l0ZSBpbiB0aGlzIHBlcmlvZC4nLAogICAgICAgICAgICAnUGFnZSBWaWV3cyc6ICdUb3RhbCB0aW1lcyBhbnkgcGFnZSBvbiB0aGUgc2l0ZSB3YXMgbG9hZGVkIG9yIHZpZXdlZCwgaW5jbHVkaW5nIHJlcGVhdHMuJywKICAgICAgICAgICAgJ0VuZ2FnZW1lbnQgUmF0ZSc6ICdQZXJjZW50IG9mIHNlc3Npb25zIHdoZXJlIHZpc2l0b3JzIGRpZCBzb21ldGhpbmcgbWVhbmluZ2Z1bCwgbGlrZSB2aWV3aW5nIG11bHRpcGxlIHBhZ2VzLCBzdGF5aW5nIGEgd2hpbGUsIG9yIHRyaWdnZXJpbmcga2V5IGV2ZW50cy4nLAogICAgICAgICAgICAnQXZnLiBTZXNzaW9uIER1cmF0aW9uJzogJ0F2ZXJhZ2UgdGltZSB2aXNpdG9ycyBhY3RpdmVseSBzcGVudCBvbiB0aGUgc2l0ZSBkdXJpbmcgYSB2aXNpdC4nLAogICAgICAgICAgICAnQm91bmNlIFJhdGUnOiAnUGVyY2VudCBvZiBzZXNzaW9ucyB3aGVyZSB2aXNpdG9ycyBsZWZ0IGFmdGVyIG9ubHkgb25lIHBhZ2Ugd2l0aCBubyBtZWFuaW5nZnVsIGludGVyYWN0aW9uLicsCiAgICAgICAgICAgICdTb3VyY2UgLyBNZWRpdW0nOiAnU291cmNlIGlzIHRoZSBzcGVjaWZpYyBvcmlnaW4sIGxpa2UgZ29vZ2xlLmNvbSBvciBCZW5jaG1hcmtFbWFpbC4gTWVkaXVtIGlzIHRoZSB0cmFmZmljIHR5cGUsIHN1Y2ggYXMgb3JnYW5pYyBzZWFyY2gsIHJlZmVycmFsLCBlbWFpbCwgb3IgZGlyZWN0LicsCiAgICAgICAgICAgICdTZXNzaW9ucyBieSBTb3VyY2UnOiAnU2hvd3MgaG93IG1hbnkgdmlzaXRzIGNhbWUgZnJvbSBlYWNoIHRyYWZmaWMgc291cmNlIGFuZCBtZWRpdW0gY29tYmluYXRpb24uJywKICAgICAgICAgICAgJyhkaXJlY3QpIC8gKG5vbmUpJzogJ1Zpc2l0cyB3aGVyZSBBbmFseXRpY3MgY291bGQgbm90IGRldGVjdCBhIHJlZmVycmVyLiBPZnRlbiBwZW9wbGUgdHlwaW5nIHRoZSBVUkwsIHVzaW5nIGJvb2ttYXJrcywgb3IgY2xpY2tpbmcgdW50YWdnZWQgbGlua3MgaW4gYXBwcywgUERGcywgb3IgZW1haWxzLicsCiAgICAgICAgICAgICdnb29nbGUgLyBvcmdhbmljJzogJ1VucGFpZCBjbGlja3MgZnJvbSBHb29nbGUgc2VhcmNoIHJlc3VsdHMuJywKICAgICAgICAgICAgJ2JpbmcgLyBvcmdhbmljJzogJ1VucGFpZCBjbGlja3MgZnJvbSBCaW5nIHNlYXJjaCByZXN1bHRzLicsCiAgICAgICAgICAgICdkdWNrZHVja2dvIC8gb3JnYW5pYyc6ICdVbnBhaWQgY2xpY2tzIGZyb20gRHVja0R1Y2tHbyBzZWFyY2ggcmVzdWx0cy4nLAogICAgICAgICAgICAnQmVuY2htYXJrRW1haWwgLyBlbWFpbCc6ICdWaXNpdHMgZnJvbSBsaW5rcyBpbiBCZW5jaG1hcmsgRW1haWwgY2FtcGFpZ25zIHRoYXQgaGF2ZSB0cmFja2luZyB0YWdzLicsCiAgICAgICAgICAgICdWaWV3cyc6ICdIb3cgbWFueSB0aW1lcyB0aGlzIHBhZ2Ugb3IgcHJvZHVjdCB3YXMgdmlld2VkIGluIHRoZSBzZWxlY3RlZCBwZXJpb2QuJywKICAgICAgICAgICAgJ1VzZXJzJzogJ0hvdyBtYW55IHVuaXF1ZSB2aXNpdG9ycyB2aWV3ZWQgdGhpcyBwYWdlIG9yIHByb2R1Y3QgYXQgbGVhc3Qgb25jZS4nLAogICAgICAgICAgICAnUGFnZSBUaXRsZSc6ICdUaGUgdGl0bGUgb2YgdGhlIHBhZ2UgYXMgaXQgYXBwZWFycyBpbiB0aGUgYnJvd3NlciB0YWIuJywKICAgICAgICAgICAgJ1BhdGgnOiAnVGhlIFVSTCBwYXRoIG9mIHRoZSBwYWdlIG9uIHRoZSB3ZWJzaXRlLicsCiAgICAgICAgICAgICdOZXcgVXNlcnMnOiAnUGVvcGxlIHZpc2l0aW5nIHRoZSBzaXRlIGZvciB0aGUgZmlyc3QgdGltZSBvbiB0aGlzIGRldmljZSBvciBicm93c2VyLicsCiAgICAgICAgICAgICdSZXR1cm5pbmcgVXNlcnMnOiAnUGVvcGxlIHdobyBoYXZlIHZpc2l0ZWQgYmVmb3JlIG9uIHRoaXMgZGV2aWNlIG9yIGJyb3dzZXIgYW5kIGNhbWUgYmFjayBpbiB0aGlzIHBlcmlvZC4nLAogICAgICAgICAgICAnU2Vzc2lvbnMgYnkgQ291bnRyeSc6ICdXaGVyZSB2aXNpdHMgb3JpZ2luYXRlZCwgYmFzZWQgb24gSVAgbG9jYXRpb247IHNvbWUgdHJhZmZpYyBtYXkgYmUgIm5vdCBzZXQiIGlmIGxvY2F0aW9uIGlzIHVuY2xlYXIuJywKICAgICAgICAgICAgJ1RvcCBDaXRpZXMnOiAnQ2l0aWVzIHRoYXQgZ2VuZXJhdGVkIHRoZSBtb3N0IHNlc3Npb25zIGluIHRoZSBzZWxlY3RlZCBwZXJpb2QuJywKICAgICAgICAgICAgJ0RldmljZSBDYXRlZ29yeSc6ICdUeXBlIG9mIGRldmljZSB1c2VkIGZvciB0aGUgdmlzaXQsIHN1Y2ggYXMgZGVza3RvcCwgbW9iaWxlLCBvciB0YWJsZXQuJywKICAgICAgICAgICAgJ2Rlc2t0b3AnOiAnU2Vzc2lvbnMgZnJvbSBsYXB0b3Agb3IgZGVza3RvcCBjb21wdXRlcnMuJywKICAgICAgICAgICAgJ21vYmlsZSc6ICdTZXNzaW9ucyBmcm9tIHNtYXJ0cGhvbmVzLicsCiAgICAgICAgICAgICd0YWJsZXQnOiAnU2Vzc2lvbnMgZnJvbSB0YWJsZXQgZGV2aWNlcy4nLAogICAgICAgICAgICAnRXZlbnQgTmFtZSc6ICdBIHNwZWNpZmljIGFjdGlvbiB0aGF0IHdhcyB0cmFja2VkIG9uIHRoZSBzaXRlLCBzdWNoIGFzIHZpZXdpbmcgYSBwYWdlLCBzY3JvbGxpbmcsIG9yIHN1Ym1pdHRpbmcgYSBmb3JtLicsCiAgICAgICAgICAgICdFdmVudCBDb3VudCc6ICdUb3RhbCBudW1iZXIgb2YgdGltZXMgdGhpcyBldmVudCB3YXMgcmVjb3JkZWQgaW4gdGhlIHNlbGVjdGVkIHBlcmlvZC4nLAogICAgICAgICAgICAnQ291bnQnOiAnTnVtYmVyIG9mIHRpbWVzIHRoaXMgZXZlbnQgb2NjdXJyZWQgaW4gdGhlIHNlbGVjdGVkIHBlcmlvZC4nLAogICAgICAgICAgICAncGFnZV92aWV3JzogJ1JlY29yZGVkIHdoZW5ldmVyIGEgcGFnZSBvbiB0aGUgc2l0ZSBsb2FkcyBvciBpcyB2aWV3ZWQuJywKICAgICAgICAgICAgJ3VzZXJfZW5nYWdlbWVudCc6ICdSZWNvcmRlZCB3aGVuIGEgdmlzaXRvciBoYXMgYW4gZW5nYWdlZCBzZXNzaW9uLCBmb3IgZXhhbXBsZSBzdGF5aW5nIG9uIGEgcGFnZSBsb25nIGVub3VnaCBvciBpbnRlcmFjdGluZyBiZWZvcmUgbGVhdmluZy4nLAogICAgICAgICAgICAnc2Vzc2lvbl9zdGFydCc6ICdSZWNvcmRlZCB3aGVuIGEgbmV3IHZpc2l0IHRvIHRoZSBzaXRlIGJlZ2lucy4nLAogICAgICAgICAgICAnZmlyc3RfdmlzaXQnOiAnUmVjb3JkZWQgdGhlIGZpcnN0IHRpbWUgYSBkZXZpY2Ugb3IgYnJvd3NlciBldmVyIHZpc2l0cyB0aGUgc2l0ZS4nLAogICAgICAgICAgICAnc2Nyb2xsJzogJ1JlY29yZGVkIHdoZW4gYSB2aXNpdG9yIHNjcm9sbHMgZmFyIGVub3VnaCBkb3duIGEgcGFnZSB0byBzaG93IHRoZXkgdmlld2VkIG1vcmUgdGhhbiBqdXN0IHRoZSB0b3AuJywKICAgICAgICAgICAgJ2Zvcm1fc3RhcnQnOiAnUmVjb3JkZWQgd2hlbiBzb21lb25lIGJlZ2lucyBmaWxsaW5nIG91dCBhIHRyYWNrZWQgZm9ybS4nLAogICAgICAgICAgICAnZm9ybV9zdWJtaXQnOiAnUmVjb3JkZWQgd2hlbiBzb21lb25lIHN1Y2Nlc3NmdWxseSBzdWJtaXRzIGEgdHJhY2tlZCBmb3JtLicsCiAgICAgICAgICAgICdjbGljayc6ICdSZWNvcmRlZCB3aGVuIGEgdHJhY2tlZCBidXR0b24gb3IgbGluayBpcyBjbGlja2VkLicsCiAgICAgICAgICAgICdmaWxlX2Rvd25sb2FkJzogJ1JlY29yZGVkIHdoZW4gYSB2aXNpdG9yIGRvd25sb2FkcyBhIHRyYWNrZWQgZmlsZSwgc3VjaCBhcyBhIFBERiBvciBicm9jaHVyZS4nLAogICAgICAgICAgICAnY2xpY2tfYnV5X29ubGluZSc6ICdSZWNvcmRlZCB3aGVuIGEgdmlzaXRvciBjbGlja3MgYSB0cmFja2VkICJidXkgb25saW5lIiBvciBzaW1pbGFyIG91dGJvdW5kIHB1cmNoYXNlIGxpbmsuJwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgLy8gTG9hZCBhZGRpdGlvbmFsIHRvb2x0aXBzIGZyb20ga2V5dGVybXMuanNvbiBhbmQgbWVyZ2UKICAgICAgICBmZXRjaCgnL2tleXRlcm1zLmpzb24nKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgLy8gQ29udmVydCBrZXl0ZXJtcy5qc29uIGZvcm1hdCB0byB0b29sdGlwcyBvYmplY3QgYW5kIG1lcmdlCiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGRhdGEpLmZvckVhY2godGVybSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcHNbdGVybS5sYWJlbF0gPSB0ZXJtLmRlc2NyaXB0aW9uOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBsb2FkIGtleXRlcm1zLmpzb24sIHVzaW5nIGZhbGxiYWNrIGRlZmluaXRpb25zOicsIGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0b29sdGlwIEhUTUwKICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKGxhYmVsLCB0b29sdGlwVGV4dCkgewogICAgICAgICAgICBpZiAoIXRvb2x0aXBUZXh0KSByZXR1cm4gbGFiZWw7CiAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idG9vbHRpcC10cmlnZ2VyIj4KICAgICAgICAgICAgICAgICAgICAke2xhYmVsfQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0b29sdGlwLWljb24iPj88L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRvb2x0aXAiPiR7dG9vbHRpcFRleHR9PC9zcGFuPgogICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICBgOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtKSB7CiAgICAgICAgICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KG51bSkgfHwgMDsKICAgICAgICAgICAgaWYgKG4gPj0gMTAwMDAwMCkgcmV0dXJuIChuIC8gMTAwMDAwMCkudG9GaXhlZCgxKSArICdNJzsKICAgICAgICAgICAgaWYgKG4gPj0gMTAwMCkgcmV0dXJuIChuIC8gMTAwMCkudG9GaXhlZCgxKSArICdLJzsKICAgICAgICAgICAgcmV0dXJuIG4udG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVSZXBvcnQoKSB7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydERhdGUnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmREYXRlJykudmFsdWU7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZWFkIGNoZWNrYm94ZXMgZnJlc2ggZWFjaCB0aW1lCiAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtZ3JvdXAgaW5wdXRbdHlwZT0iY2hlY2tib3giXTpjaGVja2VkJyk7CiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShjaGVja2JveGVzKS5tYXAoY2IgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjYi52YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBjaGVja2VkIGNoZWNrYm94OicsIHZhbHVlLCAnY2hlY2tlZDonLCBjYi5jaGVja2VkKTsKICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zb2xlLmxvZygnQ2hlY2tlZCBzZWN0aW9ucyBhcnJheTonLCBzZWN0aW9ucyk7IC8vIERlYnVnIGxvZwogICAgICAgICAgICBjb25zb2xlLmxvZygnTnVtYmVyIG9mIGNoZWNrZWQgYm94ZXM6JywgY2hlY2tib3hlcy5sZW5ndGgpOyAvLyBEZWJ1ZyBsb2cKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBib3RoIHN0YXJ0IGFuZCBlbmQgZGF0ZXMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHNlY3Rpb24gdG8gaW5jbHVkZSBpbiB0aGUgcmVwb3J0Jyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpOwogICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJsb2FkaW5nIj5HZW5lcmF0aW5nIHJlcG9ydC4uLjwvZGl2Pic7CiAgICAgICAgICAgIAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8gRmV0Y2ggZGF0YSBvbmx5IGZvciBjaGVja2VkIHNlY3Rpb25zIHdpdGggY2FjaGUtYnVzdGluZyB0aW1lc3RhbXAKICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hQcm9taXNlcyA9IFtdOwogICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hLZXlzID0gW107CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBmZXRjaCBvdmVydmlldyBmb3IgRXhlY3V0aXZlIFN1bW1hcnkKICAgICAgICAgICAgICAgIGZldGNoUHJvbWlzZXMucHVzaChmZXRjaFdpdGhCeXBhc3MoZ2V0QXBpVXJsKCcvYW5hbHl0aWNzL292ZXJ2aWV3JywgeyBzdGFydF9kYXRlOiBzdGFydERhdGUsIGVuZF9kYXRlOiBlbmREYXRlLCBfdDogdGltZXN0YW1wIH0pKSk7CiAgICAgICAgICAgICAgICBmZXRjaEtleXMucHVzaCgnb3ZlcnZpZXcnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdUcmFmZmljIFNvdXJjZXMnKSkgewogICAgICAgICAgICAgICAgICAgIGZldGNoUHJvbWlzZXMucHVzaChmZXRjaFdpdGhCeXBhc3MoZ2V0QXBpVXJsKCcvYW5hbHl0aWNzL3NvdXJjZXMnLCB7IHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgZW5kX2RhdGU6IGVuZERhdGUsIGxpbWl0OiAxMCwgX3Q6IHRpbWVzdGFtcCB9KSkpOwogICAgICAgICAgICAgICAgICAgIGZldGNoS2V5cy5wdXNoKCdzb3VyY2VzJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZldGNoUHJvbWlzZXMucHVzaChQcm9taXNlLnJlc29sdmUobnVsbCkpOwogICAgICAgICAgICAgICAgICAgIGZldGNoS2V5cy5wdXNoKCdzb3VyY2VzJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChzZWN0aW9ucy5pbmNsdWRlcygnVG9wIFBhZ2VzJykpIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaFByb21pc2VzLnB1c2goZmV0Y2hXaXRoQnlwYXNzKGdldEFwaVVybCgnL2FuYWx5dGljcy9wYWdlcycsIHsgc3RhcnRfZGF0ZTogc3RhcnREYXRlLCBlbmRfZGF0ZTogZW5kRGF0ZSwgbGltaXQ6IDIwLCBfdDogdGltZXN0YW1wIH0pKSk7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hLZXlzLnB1c2goJ3BhZ2VzJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZldGNoUHJvbWlzZXMucHVzaChQcm9taXNlLnJlc29sdmUobnVsbCkpOwogICAgICAgICAgICAgICAgICAgIGZldGNoS2V5cy5wdXNoKCdwYWdlcycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ1VzZXIgUmV0ZW50aW9uJykpIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaFByb21pc2VzLnB1c2goZmV0Y2hXaXRoQnlwYXNzKGdldEFwaVVybCgnL2FuYWx5dGljcy9yZXRlbnRpb24nLCB7IHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgZW5kX2RhdGU6IGVuZERhdGUsIF90OiB0aW1lc3RhbXAgfSkpKTsKICAgICAgICAgICAgICAgICAgICBmZXRjaEtleXMucHVzaCgncmV0ZW50aW9uJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZldGNoUHJvbWlzZXMucHVzaChQcm9taXNlLnJlc29sdmUobnVsbCkpOwogICAgICAgICAgICAgICAgICAgIGZldGNoS2V5cy5wdXNoKCdyZXRlbnRpb24nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdHZW9ncmFwaGljcycpKSB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hQcm9taXNlcy5wdXNoKGZldGNoV2l0aEJ5cGFzcyhnZXRBcGlVcmwoJy9hbmFseXRpY3MvY2l0aWVzJywgeyBzdGFydF9kYXRlOiBzdGFydERhdGUsIGVuZF9kYXRlOiBlbmREYXRlLCBsaW1pdDogMTAsIF90OiB0aW1lc3RhbXAgfSkpKTsKICAgICAgICAgICAgICAgICAgICBmZXRjaEtleXMucHVzaCgnY2l0aWVzJyk7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hQcm9taXNlcy5wdXNoKGZldGNoV2l0aEJ5cGFzcyhnZXRBcGlVcmwoJy9hbmFseXRpY3MvY291bnRyaWVzJywgeyBzdGFydF9kYXRlOiBzdGFydERhdGUsIGVuZF9kYXRlOiBlbmREYXRlLCBfdDogdGltZXN0YW1wIH0pKSk7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hLZXlzLnB1c2goJ2NvdW50cmllcycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaFByb21pc2VzLnB1c2goUHJvbWlzZS5yZXNvbHZlKG51bGwpKTsKICAgICAgICAgICAgICAgICAgICBmZXRjaEtleXMucHVzaCgnY2l0aWVzJyk7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hQcm9taXNlcy5wdXNoKFByb21pc2UucmVzb2x2ZShudWxsKSk7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hLZXlzLnB1c2goJ2NvdW50cmllcycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ1RlY2gvRGV2aWNlcycpKSB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hQcm9taXNlcy5wdXNoKGZldGNoV2l0aEJ5cGFzcyhnZXRBcGlVcmwoJy9hbmFseXRpY3MvZGV2aWNlcycsIHsgc3RhcnRfZGF0ZTogc3RhcnREYXRlLCBlbmRfZGF0ZTogZW5kRGF0ZSwgX3Q6IHRpbWVzdGFtcCB9KSkpOwogICAgICAgICAgICAgICAgICAgIGZldGNoS2V5cy5wdXNoKCdkZXZpY2VzJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZldGNoUHJvbWlzZXMucHVzaChQcm9taXNlLnJlc29sdmUobnVsbCkpOwogICAgICAgICAgICAgICAgICAgIGZldGNoS2V5cy5wdXNoKCdkZXZpY2VzJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChzZWN0aW9ucy5pbmNsdWRlcygnRXZlbnRzJykpIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaFByb21pc2VzLnB1c2goZmV0Y2hXaXRoQnlwYXNzKGdldEFwaVVybCgnL2FuYWx5dGljcy9ldmVudHMnLCB7IHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZSwgZW5kX2RhdGU6IGVuZERhdGUsIGxpbWl0OiAyMCwgX3Q6IHRpbWVzdGFtcCB9KSkpOwogICAgICAgICAgICAgICAgICAgIGZldGNoS2V5cy5wdXNoKCdldmVudHMnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hQcm9taXNlcy5wdXNoKFByb21pc2UucmVzb2x2ZShudWxsKSk7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hLZXlzLnB1c2goJ2V2ZW50cycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChmZXRjaFByb21pc2VzKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSB0aW1lc3RhbXAgd2hlbiBkYXRhIHdhcyBjb2xsZWN0ZWQgZnJvbSBBUEkKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDb2xsZWN0aW9uVGltZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFBhcnNlIHJlc3BvbnNlcyAtIGhhbmRsZSBudWxsIHJlc3BvbnNlcyBmb3IgdW5jaGVja2VkIHNlY3Rpb25zCiAgICAgICAgICAgICAgICBjb25zdCBvdmVydmlldyA9IHJlc3BvbnNlc1swXSAmJiByZXNwb25zZXNbMF0gIT09IG51bGwgJiYgcmVzcG9uc2VzWzBdLm9rID8gYXdhaXQgcmVzcG9uc2VzWzBdLmpzb24oKSA6IHtzdWNjZXNzOiBmYWxzZSwgZGF0YToge319OwogICAgICAgICAgICAgICAgY29uc3Qgc291cmNlcyA9IHJlc3BvbnNlc1sxXSAmJiByZXNwb25zZXNbMV0gIT09IG51bGwgJiYgcmVzcG9uc2VzWzFdLm9rID8gYXdhaXQgcmVzcG9uc2VzWzFdLmpzb24oKSA6IHtzdWNjZXNzOiBmYWxzZSwgZGF0YTogW119OwogICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSByZXNwb25zZXNbMl0gJiYgcmVzcG9uc2VzWzJdICE9PSBudWxsICYmIHJlc3BvbnNlc1syXS5vayA/IGF3YWl0IHJlc3BvbnNlc1syXS5qc29uKCkgOiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFtdfTsKICAgICAgICAgICAgICAgIGNvbnN0IHJldGVudGlvbiA9IHJlc3BvbnNlc1szXSAmJiByZXNwb25zZXNbM10gIT09IG51bGwgJiYgcmVzcG9uc2VzWzNdLm9rID8gYXdhaXQgcmVzcG9uc2VzWzNdLmpzb24oKSA6IHtzdWNjZXNzOiBmYWxzZSwgZGF0YTogW119OwogICAgICAgICAgICAgICAgY29uc3QgY2l0aWVzID0gcmVzcG9uc2VzWzRdICYmIHJlc3BvbnNlc1s0XSAhPT0gbnVsbCAmJiByZXNwb25zZXNbNF0ub2sgPyBhd2FpdCByZXNwb25zZXNbNF0uanNvbigpIDoge3N1Y2Nlc3M6IGZhbHNlLCBkYXRhOiBbXX07CiAgICAgICAgICAgICAgICBjb25zdCBjb3VudHJpZXMgPSByZXNwb25zZXNbNV0gJiYgcmVzcG9uc2VzWzVdICE9PSBudWxsICYmIHJlc3BvbnNlc1s1XS5vayA/IGF3YWl0IHJlc3BvbnNlc1s1XS5qc29uKCkgOiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFtdfTsKICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZXMgPSByZXNwb25zZXNbNl0gJiYgcmVzcG9uc2VzWzZdICE9PSBudWxsICYmIHJlc3BvbnNlc1s2XS5vayA/IGF3YWl0IHJlc3BvbnNlc1s2XS5qc29uKCkgOiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFtdfTsKICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IHJlc3BvbnNlc1s3XSAmJiByZXNwb25zZXNbN10gIT09IG51bGwgJiYgcmVzcG9uc2VzWzddLm9rID8gYXdhaXQgcmVzcG9uc2VzWzddLmpzb24oKSA6IHtzdWNjZXNzOiBmYWxzZSwgZGF0YTogW119OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgZGF0ZXMKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGVuZERhdGUpOwogICAgICAgICAgICAgICAgY29uc3QgbW9udGhOYW1lID0gc3RhcnQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdsb25nJywgeWVhcjogJ251bWVyaWMnIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgZGF0ZSB0byBERC9NTS9ZWVlZCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXREYXRlRERNTVlZWVkoZGF0ZVN0cmluZykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtkYXl9LyR7bW9udGh9LyR7eWVhcn1gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgZGF0ZSBhbmQgdGltZSB0byBERC9NTS9ZWVlZIEhIOk1NCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXREYXRlVGltZURETU1ZWVlZSEhNTShkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZGF5fS8ke21vbnRofS8ke3llYXJ9ICR7aG91cnN9OiR7bWludXRlc31gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRTdGFydERhdGUgPSBmb3JtYXREYXRlRERNTVlZWVkoc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZEVuZERhdGUgPSBmb3JtYXREYXRlRERNTVlZWVkoZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRDb2xsZWN0aW9uVGltZSA9IGZvcm1hdERhdGVUaW1lRERNTVlZWVlISE1NKGRhdGFDb2xsZWN0aW9uVGltZSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwZXJjZW50YWdlcwogICAgICAgICAgICAgICAgY29uc3QgdG90YWxTZXNzaW9ucyA9IHBhcnNlRmxvYXQob3ZlcnZpZXcuZGF0YS5zZXNzaW9ucyB8fCAwKTsKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsU291cmNlU2Vzc2lvbnMgPSBzb3VyY2VzLmRhdGEucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHBhcnNlRmxvYXQocy5zZXNzaW9ucyB8fCAwKSwgMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEZpbmQgc2VhcmNoIGV2ZW50cwogICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoRXZlbnRzID0gZXZlbnRzLmRhdGEuZmlsdGVyKGUgPT4gCiAgICAgICAgICAgICAgICAgICAgZS5ldmVudE5hbWUgJiYgKGUuZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3NlYXJjaCcpIHx8IGUuZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3F1ZXJ5JykpCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgcHJvZHVjdCBwYWdlcwogICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFBhZ2VzID0gcGFnZXMuZGF0YS5maWx0ZXIocCA9PiAKICAgICAgICAgICAgICAgICAgICBwLnBhZ2VQYXRoICYmIChwLnBhZ2VQYXRoLmluY2x1ZGVzKCcvcHJvZHVjdC8nKSB8fCBwLnBhZ2VQYXRoLmluY2x1ZGVzKCcvcHJvZHVjdC1jYXRlZ29yeS8nKSkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIHJlcG9ydCBIVE1MIC0gQTQgc2l6ZTogMjEwbW0geCAyOTdtbSAoOC4yNyIgeCAxMS42OSIpCiAgICAgICAgICAgICAgICAvLyBGb3Igd2ViIGRpc3BsYXksIHdlJ2xsIHVzZSB+Nzk0cHggd2lkdGggKEE0IHdpZHRoIGF0IDk2IERQSSkKICAgICAgICAgICAgICAgIGxldCByZXBvcnRIdG1sID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iIHN0eWxlPSJtYXgtd2lkdGg6IDc5NHB4OyB3aWR0aDogNzk0cHg7IG1hcmdpbjogMCBhdXRvOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiIGlkPSJyZXBvcnRDb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDJyZW07IHBhZGRpbmctYm90dG9tOiAycmVtOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmNTgwMDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vd3d3LnRlbmFjaW91c3RhcGVzLmNvbS5hdS93cC1jb250ZW50L3VwbG9hZHMvMjAyNS8xMi90ZW5hY2lvdXMtdGFwZXMtbG9nby1zY2FsZWQucG5nIiBhbHQ9IlRlbmFjaW91cyBUYXBlcyBMb2dvIiBjbGFzcz0icmVwb3J0LWxvZ28iIHN0eWxlPSJoZWlnaHQ6IDYwcHg7IG1heC1oZWlnaHQ6IDYwcHg7IHdpZHRoOiBhdXRvOyBtYXgtd2lkdGg6IDIwMHB4OyBtYXJnaW4tYm90dG9tOiAxcmVtOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgc3R5bGU9ImNvbG9yOiAjMmMzZTUwOyBtYXJnaW4tYm90dG9tOiAwLjVyZW07Ij5Nb250aGx5IFdlYnNpdGUgQW5hbHl0aWNzIFJlcG9ydDwvaDE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM3ZjhjOGQ7IGZvbnQtc2l6ZTogMS4xcmVtOyI+PHN0cm9uZz4ke21vbnRoTmFtZX08L3N0cm9uZz48L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM3ZjhjOGQ7IG1hcmdpbi1ib3R0b206IDAuMjVyZW07Ij5QZXJpb2Q6ICR7Zm9ybWF0dGVkU3RhcnREYXRlfSB0byAke2Zvcm1hdHRlZEVuZERhdGV9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjN2Y4YzhkOyBmb250LXNpemU6IDAuOXJlbTsgZm9udC1zdHlsZTogaXRhbGljOyI+RGF0YSBjb2xsZWN0ZWQ6ICR7Zm9ybWF0dGVkQ29sbGVjdGlvblRpbWV9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNmOGY5ZmE7IHBhZGRpbmc6IDEuNXJlbTsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAycmVtOyBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9ImNvbG9yOiAjZmY1ODAwOyBtYXJnaW4tYm90dG9tOiAxcmVtOyBmb250LXNpemU6IDEuNXJlbTsiPkV4ZWN1dGl2ZSBTdW1tYXJ5PC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IG1hcmdpbi10b3A6IDFyZW07IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHRhYmxlLWxheW91dDogZml4ZWQ7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0icGFkZGluZzogMC43NXJlbTsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgd2lkdGg6IDUwJTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPjxzdHJvbmc+VG90YWwgU2Vzc2lvbnM6PC9zdHJvbmc+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiAwLjc1cmVtOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBmb250LXNpemU6IDEuMXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPiR7Zm9ybWF0TnVtYmVyKG92ZXJ2aWV3LmRhdGEuc2Vzc2lvbnMgfHwgMCl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiAwLjc1cmVtOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PHN0cm9uZz5Ub3RhbCBVc2Vyczo8L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDAuNzVyZW07IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGZvbnQtc2l6ZTogMS4xcmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIob3ZlcnZpZXcuZGF0YS50b3RhbFVzZXJzIHx8IDApfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0icGFkZGluZzogMC43NXJlbTsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPjxzdHJvbmc+UGFnZSBWaWV3czo8L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDAuNzVyZW07IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGZvbnQtc2l6ZTogMS4xcmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIob3ZlcnZpZXcuZGF0YS5zY3JlZW5QYWdlVmlld3MgfHwgMCl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiAwLjc1cmVtOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PHN0cm9uZz5FbmdhZ2VtZW50IFJhdGU6PC9zdHJvbmc+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiAwLjc1cmVtOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBmb250LXNpemU6IDEuMXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPiR7KChvdmVydmlldy5kYXRhLmVuZ2FnZW1lbnRSYXRlIHx8IDApICogMTAwKS50b0ZpeGVkKDEpfSU8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDAuNzVyZW07IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij48c3Ryb25nPkF2Zy4gU2Vzc2lvbiBEdXJhdGlvbjo8L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDAuNzVyZW07IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGZvbnQtc2l6ZTogMS4xcmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtNYXRoLnJvdW5kKG92ZXJ2aWV3LmRhdGEuYXZlcmFnZVNlc3Npb25EdXJhdGlvbiB8fCAwKX1zPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiAwLjc1cmVtOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PHN0cm9uZz5Cb3VuY2UgUmF0ZTo8L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDAuNzVyZW07IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGZvbnQtc2l6ZTogMS4xcmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHsoKG92ZXJ2aWV3LmRhdGEuYm91bmNlUmF0ZSB8fCAwKSAqIDEwMCkudG9GaXhlZCgxKX0lPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTZWN0aW9uIGNvdW50ZXIgZm9yIG51bWJlcmluZwogICAgICAgICAgICAgICAgbGV0IHNlY3Rpb25OdW0gPSAxOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyAxLiBUcmFmZmljIFNvdXJjZXMgKG9ubHkgaWYgY2hlY2tlZCkKICAgICAgICAgICAgICAgIGlmIChzZWN0aW9ucy5pbmNsdWRlcygnVHJhZmZpYyBTb3VyY2VzJykpIHsKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMnJlbTsgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOyBwYWdlLWJyZWFrLWJlZm9yZTogYWx3YXlzOyB3aWR0aDogMTAwJTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgb3ZlcmZsb3c6IHZpc2libGU7IiBjbGFzcz0icmVwb3J0LXNlY3Rpb24iIGRhdGEtaXMtZmlyc3Qtc2VjdGlvbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9ImNvbG9yOiAjMmMzZTUwOyBtYXJnaW4tYm90dG9tOiAxcmVtOyBwYWRkaW5nLWJvdHRvbTogMC41cmVtOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmNTgwMDsiIGNsYXNzPSJyZXBvcnQtc2VjdGlvbi10aXRsZSI+JHtzZWN0aW9uTnVtKyt9LiBUcmFmZmljIFNvdXJjZXM8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icmVwb3J0U291cmNlc0NoYXJ0IiBzdHlsZT0id2lkdGg6IDEwMCU7IGhlaWdodDogNDAwcHg7IG1hcmdpbi1ib3R0b206IDNyZW07IHBhZGRpbmctYm90dG9tOiAycmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBvdmVyZmxvdzogdmlzaWJsZTsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJyZXBvcnQtdGFibGUiIHN0eWxlPSJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgdGFibGUtbGF5b3V0OiBmaXhlZDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2xncm91cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDUwJTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMjUlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiAyNSU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+U291cmNlPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5QZXJjZW50YWdlPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5TZXNzaW9uczwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoc291cmNlcy5kYXRhICYmIHNvdXJjZXMuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlcy5kYXRhLmZvckVhY2goc291cmNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGN0ID0gdG90YWxTb3VyY2VTZXNzaW9ucyA+IDAgPyAoKHBhcnNlRmxvYXQoc291cmNlLnNlc3Npb25zKSAvIHRvdGFsU291cmNlU2Vzc2lvbnMpICogMTAwKS50b0ZpeGVkKDEpIDogMDsKICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7Ij4ke3NvdXJjZS5zZXNzaW9uU291cmNlTWVkaXVtIHx8ICdOL0EnfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PHN0cm9uZz4ke3BjdH0lPC9zdHJvbmc+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij4ke2Zvcm1hdE51bWJlcihzb3VyY2Uuc2Vzc2lvbnMgfHwgMCl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gJzx0cj48dGQgY29sc3Bhbj0iMyI+Tm8gc291cmNlIGRhdGEgYXZhaWxhYmxlPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gMi4gTW9zdCBWaXNpdGVkIEFyZWFzIChvbmx5IGlmIFRvcCBQYWdlcyBpcyBjaGVja2VkKQogICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdUb3AgUGFnZXMnKSkgewogICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAycmVtOyBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQ7IHBhZ2UtYnJlYWstYmVmb3JlOiBhbHdheXM7IHdpZHRoOiAxMDAlOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBvdmVyZmxvdzogdmlzaWJsZTsiIGNsYXNzPSJyZXBvcnQtc2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9ImNvbG9yOiAjMmMzZTUwOyBtYXJnaW4tYm90dG9tOiAxcmVtOyBwYWRkaW5nLWJvdHRvbTogMC41cmVtOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmNTgwMDsiIGNsYXNzPSJyZXBvcnQtc2VjdGlvbi10aXRsZSI+JHtzZWN0aW9uTnVtKyt9LiBUb3AgUGFnZXM8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJyZXBvcnQtdGFibGUiIHN0eWxlPSJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgdGFibGUtbGF5b3V0OiBmaXhlZDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2xncm91cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDM1JTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMzAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiAxNy41JTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMTcuNSU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+UGFnZSBUaXRsZTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+UGF0aDwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+Vmlld3M8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlVzZXJzPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChwYWdlcy5kYXRhICYmIHBhZ2VzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHBhZ2VzLmRhdGEuc2xpY2UoMCwgMTUpLmZvckVhY2gocGFnZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd29yZC13cmFwOiBicmVhay13b3JkOyI+PHN0cm9uZz4ke3BhZ2UucGFnZVRpdGxlIHx8ICdOL0EnfTwvc3Ryb25nPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBmb250LWZhbWlseTogbW9ub3NwYWNlOyBmb250LXNpemU6IDAuOXJlbTsgY29sb3I6ICM3ZjhjOGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHdvcmQtd3JhcDogYnJlYWstd29yZDsgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDsiPiR7cGFnZS5wYWdlUGF0aCB8fCAnTi9BJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPiR7Zm9ybWF0TnVtYmVyKHBhZ2Uuc2NyZWVuUGFnZVZpZXdzIHx8IDApfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIocGFnZS5hY3RpdmVVc2VycyB8fCAwKX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSAnPHRyPjx0ZCBjb2xzcGFuPSI0Ij5ObyBwYWdlIGRhdGEgYXZhaWxhYmxlPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gMy4gTW9zdCBTZWFyY2hlZCBQcm9kdWN0cyAob25seSBpZiBUb3AgUGFnZXMgaXMgY2hlY2tlZCBhbmQgd2UgaGF2ZSBwcm9kdWN0IHBhZ2VzKQogICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdUb3AgUGFnZXMnKSAmJiBwcm9kdWN0UGFnZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAycmVtOyBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQ7IHBhZ2UtYnJlYWstYmVmb3JlOiBhbHdheXM7IHdpZHRoOiAxMDAlOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBvdmVyZmxvdzogdmlzaWJsZTsiIGNsYXNzPSJyZXBvcnQtc2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9ImNvbG9yOiAjMmMzZTUwOyBtYXJnaW4tYm90dG9tOiAxcmVtOyBwYWRkaW5nLWJvdHRvbTogMC41cmVtOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmNTgwMDsiIGNsYXNzPSJyZXBvcnQtc2VjdGlvbi10aXRsZSI+JHtzZWN0aW9uTnVtKyt9LiBNb3N0IFNlYXJjaGVkIFByb2R1Y3RzPC9oMj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0UGFnZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InJlcG9ydC10YWJsZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB0YWJsZS1sYXlvdXQ6IGZpeGVkOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDYwJTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiAyMCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMjAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+UHJvZHVjdDwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5WaWV3czwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5Vc2VyczwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0UGFnZXMuc2xpY2UoMCwgMTApLmZvckVhY2gocHJvZHVjdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd29yZC13cmFwOiBicmVhay13b3JkOyI+PHN0cm9uZz4ke3Byb2R1Y3QucGFnZVRpdGxlIHx8ICdOL0EnfTwvc3Ryb25nPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIocHJvZHVjdC5zY3JlZW5QYWdlVmlld3MgfHwgMCl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij4ke2Zvcm1hdE51bWJlcihwcm9kdWN0LmFjdGl2ZVVzZXJzIHx8IDApfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYDwvdGJvZHk+PC90YWJsZT5gOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9ICc8cCBzdHlsZT0iY29sb3I6ICM3ZjhjOGQ7Ij5ObyBwcm9kdWN0IHBhZ2UgZGF0YSBhdmFpbGFibGUgZm9yIHRoaXMgcGVyaW9kLjwvcD4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIDQuIFVzZXIgUmV0ZW50aW9uIChvbmx5IGlmIGNoZWNrZWQpCiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ1VzZXIgUmV0ZW50aW9uJykgJiYgcmV0ZW50aW9uLmRhdGEgJiYgcmV0ZW50aW9uLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJzID0gcmV0ZW50aW9uLmRhdGEuZmluZChyID0+IHIubmV3VnNSZXR1cm5pbmcgPT09ICduZXcnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5pbmdVc2VycyA9IHJldGVudGlvbi5kYXRhLmZpbmQociA9PiByLm5ld1ZzUmV0dXJuaW5nID09PSAncmV0dXJuaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGN0ID0gbmV3VXNlcnMgPyAoKHBhcnNlRmxvYXQobmV3VXNlcnMuc2Vzc2lvbnMpIC8gdG90YWxTZXNzaW9ucykgKiAxMDApLnRvRml4ZWQoMSkgOiAwOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblBjdCA9IHJldHVybmluZ1VzZXJzID8gKChwYXJzZUZsb2F0KHJldHVybmluZ1VzZXJzLnNlc3Npb25zKSAvIHRvdGFsU2Vzc2lvbnMpICogMTAwKS50b0ZpeGVkKDEpIDogMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTZXNzaW9ucyA9IG5ld1VzZXJzID8gcGFyc2VGbG9hdChuZXdVc2Vycy5zZXNzaW9ucykgOiAwOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblNlc3Npb25zID0gcmV0dXJuaW5nVXNlcnMgPyBwYXJzZUZsb2F0KHJldHVybmluZ1VzZXJzLnNlc3Npb25zKSA6IDA7CiAgICAgICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDJyZW07IHBhZ2UtYnJlYWstaW5zaWRlOiBhdm9pZDsgcGFnZS1icmVhay1iZWZvcmU6IGFsd2F5czsgd2lkdGg6IDEwMCU7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IG92ZXJmbG93OiB2aXNpYmxlOyIgY2xhc3M9InJlcG9ydC1zZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT0iY29sb3I6ICMyYzNlNTA7IG1hcmdpbi1ib3R0b206IDFyZW07IHBhZGRpbmctYm90dG9tOiAwLjVyZW07IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZmY1ODAwOyIgY2xhc3M9InJlcG9ydC1zZWN0aW9uLXRpdGxlIj4ke3NlY3Rpb25OdW0rK30uIFVzZXIgUmV0ZW50aW9uPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InJlcG9ydFJldGVudGlvbkNoYXJ0IiBzdHlsZT0id2lkdGg6IDEwMCU7IGhlaWdodDogNDAwcHg7IG1hcmdpbi1ib3R0b206IDNyZW07IHBhZGRpbmctYm90dG9tOiAycmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InJlcG9ydC10YWJsZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB0YWJsZS1sYXlvdXQ6IGZpeGVkOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogNTAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiAyNSU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDI1JTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5Vc2VyIFR5cGU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlBlcmNlbnRhZ2U8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlNlc3Npb25zPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PHN0cm9uZz5OZXcgVXNlcnM8L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PHN0cm9uZz4ke25ld1BjdH0lPC9zdHJvbmc+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPiR7Zm9ybWF0TnVtYmVyKG5ld1Nlc3Npb25zKX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij48c3Ryb25nPlJldHVybmluZyBVc2Vyczwvc3Ryb25nPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij48c3Ryb25nPiR7cmV0dXJuUGN0fSU8L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIocmV0dXJuU2Vzc2lvbnMpfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIDUuIEdlb2dyYXBoaWMgRGlzdHJpYnV0aW9uIChvbmx5IGlmIGNoZWNrZWQpCiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ0dlb2dyYXBoaWNzJykgJiYgKGNpdGllcy5kYXRhICYmIGNpdGllcy5kYXRhLmxlbmd0aCA+IDAgfHwgY291bnRyaWVzLmRhdGEgJiYgY291bnRyaWVzLmRhdGEubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMnJlbTsgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOyBwYWdlLWJyZWFrLWJlZm9yZTogYWx3YXlzOyB3aWR0aDogMTAwJTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgb3ZlcmZsb3c6IHZpc2libGU7IiBjbGFzcz0icmVwb3J0LXNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJjb2xvcjogIzJjM2U1MDsgbWFyZ2luLWJvdHRvbTogMXJlbTsgcGFkZGluZy1ib3R0b206IDAuNXJlbTsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZjU4MDA7IiBjbGFzcz0icmVwb3J0LXNlY3Rpb24tdGl0bGUiPiR7c2VjdGlvbk51bSsrfS4gR2VvZ3JhcGhpYyBEaXN0cmlidXRpb248L2gyPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gQ291bnRyaWVzIENoYXJ0IChUb3AgMTApCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cmllcy5kYXRhICYmIGNvdW50cmllcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjMmMzZTUwOyBtYXJnaW4tdG9wOiAxLjVyZW07IG1hcmdpbi1ib3R0b206IDFyZW07IGZvbnQtc2l6ZTogMS4ycmVtOyBmb250LXdlaWdodDogNjAwOyI+U2Vzc2lvbnMgYnkgQ291bnRyeSAoVG9wIDEwKTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyZXBvcnRDb3VudHJpZXNDaGFydCIgc3R5bGU9IndpZHRoOiAxMDAlOyBoZWlnaHQ6IDQwMHB4OyBtYXJnaW4tYm90dG9tOiAzcmVtOyBwYWRkaW5nLWJvdHRvbTogMnJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDaXRpZXMgVGFibGUKICAgICAgICAgICAgICAgICAgICBpZiAoY2l0aWVzLmRhdGEgJiYgY2l0aWVzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICMyYzNlNTA7IG1hcmdpbi10b3A6IDEuNXJlbTsgbWFyZ2luLWJvdHRvbTogMXJlbTsgZm9udC1zaXplOiAxLjJyZW07IGZvbnQtd2VpZ2h0OiA2MDA7Ij5Ub3AgQ2l0aWVzPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0icmVwb3J0LXRhYmxlIiBzdHlsZT0id2lkdGg6IDEwMCU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHRhYmxlLWxheW91dDogZml4ZWQ7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiA1MCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDI1JTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMjUlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2xncm91cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPkNpdHk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlBlcmNlbnRhZ2U8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlNlc3Npb25zPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICAgICAgY2l0aWVzLmRhdGEuc2xpY2UoMCwgMTApLmZvckVhY2goY2l0eSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaXR5UGN0ID0gdG90YWxTZXNzaW9ucyA+IDAgPyAoKHBhcnNlRmxvYXQoY2l0eS5zZXNzaW9ucykgLyB0b3RhbFNlc3Npb25zKSAqIDEwMCkudG9GaXhlZCgxKSA6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd29yZC13cmFwOiBicmVhay13b3JkOyI+PHN0cm9uZz4ke2NpdHkuY2l0eSB8fCAnTi9BJ308L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDAuNzVyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij48c3Ryb25nPiR7Y2l0eVBjdH0lPC9zdHJvbmc+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIoY2l0eS5zZXNzaW9ucyB8fCAwKX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyA2LiBEZXZpY2UgQ2F0ZWdvcmllcyAob25seSBpZiBjaGVja2VkKQogICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdUZWNoL0RldmljZXMnKSAmJiBkZXZpY2VzLmRhdGEgJiYgZGV2aWNlcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMnJlbTsgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOyBwYWdlLWJyZWFrLWJlZm9yZTogYWx3YXlzOyB3aWR0aDogMTAwJTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgb3ZlcmZsb3c6IHZpc2libGU7IiBjbGFzcz0icmVwb3J0LXNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJjb2xvcjogIzJjM2U1MDsgbWFyZ2luLWJvdHRvbTogMXJlbTsgcGFkZGluZy1ib3R0b206IDAuNXJlbTsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZjU4MDA7IiBjbGFzcz0icmVwb3J0LXNlY3Rpb24tdGl0bGUiPiR7c2VjdGlvbk51bSsrfS4gRGV2aWNlIENhdGVnb3JpZXM8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icmVwb3J0RGV2aWNlc0NoYXJ0IiBzdHlsZT0id2lkdGg6IDEwMCU7IGhlaWdodDogNDAwcHg7IG1hcmdpbi1ib3R0b206IDNyZW07IHBhZGRpbmctYm90dG9tOiAycmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InJlcG9ydC10YWJsZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB0YWJsZS1sYXlvdXQ6IGZpeGVkOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbGdyb3VwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogNTAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9IndpZHRoOiAyNSU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDI1JTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sZ3JvdXA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Ij5EZXZpY2UgQ2F0ZWdvcnk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlBlcmNlbnRhZ2U8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPlNlc3Npb25zPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGRldmljZXMuZGF0YS5mb3JFYWNoKGRldmljZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZVBjdCA9IHRvdGFsU2Vzc2lvbnMgPiAwID8gKChwYXJzZUZsb2F0KGRldmljZS5zZXNzaW9ucykgLyB0b3RhbFNlc3Npb25zKSAqIDEwMCkudG9GaXhlZCgxKSA6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd29yZC13cmFwOiBicmVhay13b3JkOyI+PHN0cm9uZz4ke2RldmljZS5kZXZpY2VDYXRlZ29yeSB8fCAnTi9BJ308L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMC43NXJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPjxzdHJvbmc+JHtkZXZpY2VQY3R9JTwvc3Ryb25nPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIoZGV2aWNlLnNlc3Npb25zIHx8IDApfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJlcG9ydEh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyA3LiBUb3AgRXZlbnRzIChvbmx5IGlmIGNoZWNrZWQpCiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ0V2ZW50cycpICYmIGV2ZW50cy5kYXRhICYmIGV2ZW50cy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMnJlbTsgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOyBwYWdlLWJyZWFrLWJlZm9yZTogYWx3YXlzOyB3aWR0aDogMTAwJTsgYm94LXNpemluZzogYm9yZGVyLWJveDsgb3ZlcmZsb3c6IHZpc2libGU7IiBjbGFzcz0icmVwb3J0LXNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJjb2xvcjogIzJjM2U1MDsgbWFyZ2luLWJvdHRvbTogMXJlbTsgcGFkZGluZy1ib3R0b206IDAuNXJlbTsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZjU4MDA7IiBjbGFzcz0icmVwb3J0LXNlY3Rpb24tdGl0bGUiPiR7c2VjdGlvbk51bSsrfS4gVG9wIEV2ZW50czwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyZXBvcnRFdmVudHNDaGFydCIgc3R5bGU9IndpZHRoOiAxMDAlOyBoZWlnaHQ6IDQwMHB4OyBtYXJnaW4tYm90dG9tOiAzcmVtOyBwYWRkaW5nLWJvdHRvbTogMnJlbTsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJyZXBvcnQtdGFibGUiIHN0eWxlPSJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgdGFibGUtbGF5b3V0OiBmaXhlZDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2xncm91cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT0id2lkdGg6IDcwJTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPSJ3aWR0aDogMzAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2xncm91cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPkV2ZW50IE5hbWU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyB0ZXh0LWFsaWduOiBsZWZ0OyBmb250LXdlaWdodDogYm9sZDsgYm94LXNpemluZzogYm9yZGVyLWJveDsiPkNvdW50PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGV2ZW50cy5kYXRhLnNsaWNlKDAsIDEwKS5mb3JFYWNoKGV2ZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7Ij48c3Ryb25nPiR7ZXZlbnQuZXZlbnROYW1lIHx8ICdOL0EnfTwvc3Ryb25nPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiAwLjc1cmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyI+JHtmb3JtYXROdW1iZXIoZXZlbnQuZXZlbnRDb3VudCB8fCAwKX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXBvcnRIdG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGVkRGF0ZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgeWVhcjogJ251bWVyaWMnLCBtb250aDogJ2xvbmcnLCBkYXk6ICdudW1lcmljJyB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmVwb3J0SHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMnJlbTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJ3aW5kb3cucHJpbnQoKSIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICM3ZjhjOGQ7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAwLjc1cmVtIDJyZW07IGJvcmRlci1yYWRpdXM6IDZweDsgZm9udC13ZWlnaHQ6IDUwMDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDFyZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5ao77iPIFByaW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByaW50IGZvb3RlciAtIHdpbGwgYXBwZWFyIG9uIGV2ZXJ5IHBhZ2UgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByaW50LWZvb3RlciIgZGF0YS1nZW5lcmF0ZWQtZGF0ZT0iJHtnZW5lcmF0ZWREYXRlfSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByaW50LWZvb3Rlci1jb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icHJpbnQtZm9vdGVyLXRleHQiPkdlbmVyYXRlZCBvbiAke2dlbmVyYXRlZERhdGV9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwcmludC1wYWdlLW51bWJlciI+UGFnZSA8c3BhbiBjbGFzcz0icGFnZS1udW1iZXIiPjE8L3NwYW4+IG9mIDxzcGFuIGNsYXNzPSJ0b3RhbC1wYWdlcyI+MTwvc3Bhbj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IHJlcG9ydEh0bWw7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwYWdlIG51bWJlcnMgZnVuY3Rpb24KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBhZ2VOdW1iZXJzKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250YWluZXInKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcG9ydENvbnRhaW5lcikgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBhcHByb3hpbWF0ZSB0b3RhbCBwYWdlcyBiYXNlZCBvbiBjb250ZW50IGhlaWdodAogICAgICAgICAgICAgICAgICAgIC8vIEE0IHBhZ2UgaGVpZ2h0IGF0IDk2IERQSTogfjExMjNweCwgbWludXMgbWFyZ2lucyAoMWNtIHRvcCArIDIuNWNtIGJvdHRvbSk6IH45MDBweCB1c2FibGUKICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlSGVpZ2h0ID0gOTAwOyAvLyBBcHByb3hpbWF0ZSB1c2FibGUgaGVpZ2h0IHBlciBwYWdlCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudEhlaWdodCA9IHJlcG9ydENvbnRhaW5lci5zY3JvbGxIZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChjb250ZW50SGVpZ2h0IC8gcGFnZUhlaWdodCkpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbCBwYWdlcyBpbiBhbGwgZm9vdGVyIGluc3RhbmNlcwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUGFnZXNFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG90YWwtcGFnZXMnKTsKICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzRWxzLmZvckVhY2goZWwgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHRvdGFsUGFnZXM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogQ1NTIEBwYWdlIG1hcmdpbiBib3hlcyBoYXZlIGxpbWl0ZWQgYnJvd3NlciBzdXBwb3J0CiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZvb3RlciB3aWxsIHNob3cgdG90YWwgcGFnZXMsIGFuZCBicm93c2VycyBtYXkgYWRkIHRoZWlyIG93biBwYWdlIG51bWJlcnMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBhZ2UgbnVtYmVycyBhZnRlciBjb250ZW50IGlzIGxvYWRlZCBhbmQgY2hhcnRzIGFyZSByZW5kZXJlZAogICAgICAgICAgICAgICAgc2V0VGltZW91dCh1cGRhdGVQYWdlTnVtYmVycywgMjAwMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEFsc28gdXBkYXRlIHdoZW4gcHJpbnQgZGlhbG9nIG9wZW5zCiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JlcHJpbnQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVQYWdlTnVtYmVycygpOwogICAgICAgICAgICAgICAgICAgIC8vIFNob3cgZm9vdGVyCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaW50LWZvb3RlcicpOwogICAgICAgICAgICAgICAgICAgIGlmIChmb290ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYWZ0ZXJwcmludCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgZm9vdGVyIGFmdGVyIHByaW50aW5nCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaW50LWZvb3RlcicpOwogICAgICAgICAgICAgICAgICAgIGlmIChmb290ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFJlbmRlciBjaGFydHMgYW5kIGNvbnZlcnQgdG8gc3RhdGljIGltYWdlcyBhZnRlciBIVE1MIGlzIGluc2VydGVkCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBQbG90bHkgY2hhcnQgdG8gaW1hZ2UKICAgICAgICAgICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBjb252ZXJ0Q2hhcnRUb0ltYWdlKGNoYXJ0SWQsIGNoYXJ0RGF0YSwgbGF5b3V0LCBjb25maWcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjaGFydElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGFydERpdikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDaGFydCBkaXYgbm90IGZvdW5kOiAke2NoYXJ0SWR9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgY2hhcnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFBsb3RseS5uZXdQbG90KGNoYXJ0SWQsIGNoYXJ0RGF0YSwgbGF5b3V0LCBjb25maWcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IGEgYml0IGZvciBjaGFydCB0byBmdWxseSByZW5kZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIGNoYXJ0IGRpdiBoYXMgdmFsaWQgZGltZW5zaW9ucwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGl2Lm9mZnNldFdpZHRoID09PSAwIHx8IGNoYXJ0RGl2Lm9mZnNldEhlaWdodCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2hhcnQgJHtjaGFydElkfSBoYXMgemVybyBkaW1lbnNpb25zLCB1c2luZyBkZWZhdWx0c2ApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnN0eWxlLndpZHRoID0gY2hhcnREaXYuc3R5bGUud2lkdGggfHwgJzEwMCUnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnN0eWxlLmhlaWdodCA9IGNoYXJ0RGl2LnN0eWxlLmhlaWdodCB8fCAnNDAwcHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBpbWFnZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRGF0YSA9IGF3YWl0IFBsb3RseS50b0ltYWdlKGNoYXJ0RGl2LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAncG5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2hhcnREaXYub2Zmc2V0V2lkdGggfHwgODAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2hhcnREaXYub2Zmc2V0SGVpZ2h0IHx8IDQwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGJhc2U2NCBkYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltZ0RhdGEgfHwgdHlwZW9mIGltZ0RhdGEgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBpbWFnZSBkYXRhIGZvciBjaGFydCAke2NoYXJ0SWR9OmAsIHR5cGVvZiBpbWdEYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGltYWdlIGRhdGEgcmV0dXJuZWQgZnJvbSBQbG90bHknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWdEYXRhLnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgaW1hZ2UgZGF0YSBmb3JtYXQgZm9yIGNoYXJ0ICR7Y2hhcnRJZH0uIEV4cGVjdGVkIGJhc2U2NCBQTkcsIGdvdDpgLCBpbWdEYXRhLnN1YnN0cmluZygwLCA1MCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbWFnZSBkYXRhIGZvcm1hdCByZXR1cm5lZCBmcm9tIFBsb3RseScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBiYXNlNjQgZGF0YSBpcyB0b28gc2hvcnQgKGxpa2VseSB0cnVuY2F0ZWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRQYXJ0ID0gaW1nRGF0YS5zcGxpdCgnLCcpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFiYXNlNjRQYXJ0IHx8IGJhc2U2NFBhcnQubGVuZ3RoIDwgMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQmFzZTY0IGRhdGEgYXBwZWFycyB0cnVuY2F0ZWQgZm9yIGNoYXJ0ICR7Y2hhcnRJZH0uIExlbmd0aDpgLCBiYXNlNjRQYXJ0Py5sZW5ndGggfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbWFnZSBkYXRhIGFwcGVhcnMgdG8gYmUgdHJ1bmNhdGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBpbWFnZSBlbGVtZW50IGFuZCB3YWl0IGZvciBpdCB0byBsb2FkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5hbHQgPSBgQ2hhcnQ6ICR7Y2hhcnRJZH1gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5tYXhXaWR0aCA9ICcxMDAlJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUubWFyZ2luQm90dG9tID0gJzNyZW0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5wYWRkaW5nQm90dG9tID0gJzJyZW0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgaW1hZ2UgdG8gbG9hZCBiZWZvcmUgcmVwbGFjaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hhcnREaXYucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENoYXJ0IGRpdiAke2NoYXJ0SWR9IGhhcyBubyBwYXJlbnQgbm9kZWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NoYXJ0IGRpdiBoYXMgbm8gcGFyZW50IG5vZGUnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaW1nLCBjaGFydERpdik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGNvbnZlcnRlZCBjaGFydCAke2NoYXJ0SWR9IHRvIGltYWdlYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGltZ0RhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChyZXBsYWNlRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlcGxhY2luZyBjaGFydCBkaXYgZm9yICR7Y2hhcnRJZH06YCwgcmVwbGFjZUVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXBsYWNlRXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgaW1hZ2UgbG9hZCBlcnJvcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBJbWFnZSBmYWlsZWQgdG8gbG9hZCBmb3IgY2hhcnQgJHtjaGFydElkfTpgLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgdGhlIGNoYXJ0IGRpdiBhcyBmYWxsYmFjawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5wYWRkaW5nID0gJzFyZW0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZlZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTXNnLnN0eWxlLmNvbG9yID0gJyNjMDAnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNmY2MnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZy50ZXh0Q29udGVudCA9IGBDaGFydCBpbWFnZSBmYWlsZWQgdG8gbG9hZC4gQ2hhcnQgSUQ6ICR7Y2hhcnRJZH1gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlcnJvck1zZywgY2hhcnREaXYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBJbWFnZSBsb2FkIGZhaWxlZCBmb3IgJHtjaGFydElkfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBzcmMgYWZ0ZXIgYXR0YWNoaW5nIGV2ZW50IGhhbmRsZXJzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGltZ0RhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGltZW91dCBmYWxsYmFjayBpbiBjYXNlIG9ubG9hZCBuZXZlciBmaXJlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLnBhcmVudE5vZGUgPT09IG51bGwgJiYgY2hhcnREaXYucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW1hZ2UgaGFzbid0IGJlZW4gaW5zZXJ0ZWQgeWV0LCB0cnkgdG8gaW5zZXJ0IGl0IGFueXdheQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChpbWcsIGNoYXJ0RGl2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgSW1hZ2UgaW5zZXJ0ZWQgdmlhIHRpbWVvdXQgZmFsbGJhY2sgZm9yICR7Y2hhcnRJZH1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGltZ0RhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaW1lb3V0IGluc2VydGluZyBpbWFnZSBmb3IgJHtjaGFydElkfTpgLCBlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGltZy5wYXJlbnROb2RlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDYW5ub3QgaW5zZXJ0IGltYWdlIGZvciAke2NoYXJ0SWR9OiBjaGFydCBkaXYgaGFzIG5vIHBhcmVudGApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ2hhcnQgZGl2IGhhcyBubyBwYXJlbnQgbm9kZScpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjb252ZXJ0aW5nIGNoYXJ0ICR7Y2hhcnRJZH06YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNoYXJ0IGRpdgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTXNnLnN0eWxlLnBhZGRpbmcgPSAnMXJlbSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZlZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5jb2xvciA9ICcjYzAwJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTXNnLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgI2ZjYyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZy50ZXh0Q29udGVudCA9IGBFcnJvciBnZW5lcmF0aW5nIGNoYXJ0OiAke2Vycm9yLm1lc3NhZ2V9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVycm9yTXNnLCBjaGFydERpdik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBUcmFmZmljIFNvdXJjZXMgQ2hhcnQKICAgICAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ1RyYWZmaWMgU291cmNlcycpICYmIHNvdXJjZXMuZGF0YSAmJiBzb3VyY2VzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFydERhdGEgPSBzb3VyY2VzLmRhdGEubWFwKGQgPT4gKHtuYW1lOiBkLnNlc3Npb25Tb3VyY2VNZWRpdW0sIHZhbHVlOiBwYXJzZUludChkLnNlc3Npb25zKX0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkRGF0YSA9IFsuLi5jaGFydERhdGFdLnNvcnQoKGEsIGIpID0+IGIudmFsdWUgLSBhLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JQYWxldHRlID0gWycjZmY1ODAwJywgJyM0YTkwZTInLCAnIzUwYzg3OCcsICcjZjM5YzEyJywgJyM5YjU5YjYnLCAnI2U3NGMzYycsICcjMWFiYzljJywgJyMzNDQ5NWUnLCAnI2U2N2UyMicsICcjMTZhMDg1J107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yTWFwID0gbmV3IE1hcCgpOwogICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWREYXRhLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JNYXAuc2V0KGl0ZW0ubmFtZSwgY29sb3JQYWxldHRlW2lkeCAlIGNvbG9yUGFsZXR0ZS5sZW5ndGhdKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IGNoYXJ0RGF0YS5tYXAoZCA9PiBjb2xvck1hcC5nZXQoZC5uYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbnZlcnRDaGFydFRvSW1hZ2UoJ3JlcG9ydFNvdXJjZXNDaGFydCcsIFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IGNoYXJ0RGF0YS5tYXAoZCA9PiBkLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogY2hhcnREYXRhLm1hcChkID0+IGQubmFtZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjoge2NvbG9yczogY29sb3JzfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRpbmZvOiAnbGFiZWwrcGVyY2VudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0cG9zaXRpb246ICdvdXRzaWRlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbjoge3g6IFswLjEsIDAuOV0sIHk6IFswLjEsIDAuOV19CiAgICAgICAgICAgICAgICAgICAgICAgIH1dLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7ZmFtaWx5OiAnUm9ib3RvJywgc2l6ZTogMTJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd2xlZ2VuZDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHtsOiA1MCwgcjogNTAsIHQ6IDUwLCBiOiA1MH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAncmdiYSgwLDAsMCwwKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90X2JnY29sb3I6ICdyZ2JhKDAsMCwwLDApJwogICAgICAgICAgICAgICAgICAgICAgICB9LCB7c3RhdGljUGxvdDogdHJ1ZSwgZGlzcGxheU1vZGVCYXI6IGZhbHNlfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgUmV0ZW50aW9uIENoYXJ0CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdVc2VyIFJldGVudGlvbicpICYmIHJldGVudGlvbi5kYXRhICYmIHJldGVudGlvbi5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0ZW50aW9uRGF0YSA9IHJldGVudGlvbi5kYXRhLm1hcChkID0+ICh7bmFtZTogZC5uZXdWc1JldHVybmluZywgdmFsdWU6IHBhcnNlSW50KGQuc2Vzc2lvbnMpfSkpOwogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb252ZXJ0Q2hhcnRUb0ltYWdlKCdyZXBvcnRSZXRlbnRpb25DaGFydCcsIFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHJldGVudGlvbkRhdGEubWFwKGQgPT4gZC52YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHJldGVudGlvbkRhdGEubWFwKGQgPT4gZC5uYW1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7Y29sb3JzOiBbJyNmZjU4MDAnLCAnIzRhOTBlMiddfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRpbmZvOiAnbGFiZWwrcGVyY2VudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0cG9zaXRpb246ICdvdXRzaWRlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbjoge3g6IFswLjEsIDAuOV0sIHk6IFswLjEsIDAuOV19CiAgICAgICAgICAgICAgICAgICAgICAgIH1dLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7ZmFtaWx5OiAnUm9ib3RvJywgc2l6ZTogMTJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd2xlZ2VuZDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHtsOiA1MCwgcjogNTAsIHQ6IDUwLCBiOiA1MH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAncmdiYSgwLDAsMCwwKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90X2JnY29sb3I6ICdyZ2JhKDAsMCwwLDApJwogICAgICAgICAgICAgICAgICAgICAgICB9LCB7c3RhdGljUGxvdDogdHJ1ZSwgZGlzcGxheU1vZGVCYXI6IGZhbHNlfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIENvdW50cmllcyBDaGFydCAoVG9wIDEwKQogICAgICAgICAgICAgICAgICAgIGlmIChzZWN0aW9ucy5pbmNsdWRlcygnR2VvZ3JhcGhpY3MnKSAmJiBjb3VudHJpZXMuZGF0YSAmJiBjb3VudHJpZXMuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcENvdW50cmllcyA9IGNvdW50cmllcy5kYXRhLnNsaWNlKDAsIDEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udmVydENoYXJ0VG9JbWFnZSgncmVwb3J0Q291bnRyaWVzQ2hhcnQnLCBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdG9wQ291bnRyaWVzLm1hcChjID0+IGMuY291bnRyeSB8fCAnTi9BJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0b3BDb3VudHJpZXMubWFwKGMgPT4gcGFyc2VJbnQoYy5zZXNzaW9ucyB8fCAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYmFyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjoge2NvbG9yOiAnI2ZmNTgwMCd9CiAgICAgICAgICAgICAgICAgICAgICAgIH1dLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7ZmFtaWx5OiAnUm9ib3RvJywgc2l6ZTogMTJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTZXNzaW9ucyBieSBDb3VudHJ5IChUb3AgMTApJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhheGlzOiB7dGl0bGU6ICdDb3VudHJ5JywgdGlja2FuZ2xlOiAtNDV9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeWF4aXM6IHt0aXRsZTogJ1Nlc3Npb25zJ30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAncmdiYSgwLDAsMCwwKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90X2JnY29sb3I6ICdyZ2JhKDAsMCwwLDApJwogICAgICAgICAgICAgICAgICAgICAgICB9LCB7c3RhdGljUGxvdDogdHJ1ZSwgZGlzcGxheU1vZGVCYXI6IGZhbHNlfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIERldmljZSBDYXRlZ29yaWVzIENoYXJ0CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmluY2x1ZGVzKCdUZWNoL0RldmljZXMnKSAmJiBkZXZpY2VzLmRhdGEgJiYgZGV2aWNlcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV2aWNlRGF0YSA9IGRldmljZXMuZGF0YS5tYXAoZCA9PiAoe25hbWU6IGQuZGV2aWNlQ2F0ZWdvcnksIHZhbHVlOiBwYXJzZUludChkLnNlc3Npb25zKX0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udmVydENoYXJ0VG9JbWFnZSgncmVwb3J0RGV2aWNlc0NoYXJ0JywgW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogZGV2aWNlRGF0YS5tYXAoZCA9PiBkLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogZGV2aWNlRGF0YS5tYXAoZCA9PiBkLm5hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtjb2xvcnM6IFsnI2ZmNTgwMCcsICcjNGE5MGUyJywgJyM1MGM4NzgnLCAnI2YzOWMxMiddfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRpbmZvOiAnbGFiZWwrcGVyY2VudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0cG9zaXRpb246ICdvdXRzaWRlJwogICAgICAgICAgICAgICAgICAgICAgICB9XSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge2ZhbWlseTogJ1JvYm90bycsIHNpemU6IDEyfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dsZWdlbmQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAncmdiYSgwLDAsMCwwKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90X2JnY29sb3I6ICdyZ2JhKDAsMCwwLDApJwogICAgICAgICAgICAgICAgICAgICAgICB9LCB7c3RhdGljUGxvdDogdHJ1ZSwgZGlzcGxheU1vZGVCYXI6IGZhbHNlfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFRvcCBFdmVudHMgQ2hhcnQKICAgICAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnMuaW5jbHVkZXMoJ0V2ZW50cycpICYmIGV2ZW50cy5kYXRhICYmIGV2ZW50cy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wRXZlbnRzID0gZXZlbnRzLmRhdGEuc2xpY2UoMCwgMTApOwogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb252ZXJ0Q2hhcnRUb0ltYWdlKCdyZXBvcnRFdmVudHNDaGFydCcsIFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0b3BFdmVudHMubWFwKGUgPT4gZS5ldmVudE5hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdG9wRXZlbnRzLm1hcChlID0+IHBhcnNlSW50KGUuZXZlbnRDb3VudCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtjb2xvcjogJyNmZjU4MDAnfQogICAgICAgICAgICAgICAgICAgICAgICB9XSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge2ZhbWlseTogJ1JvYm90bycsIHNpemU6IDEyfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhheGlzOiB7dGl0bGU6ICdFdmVudCBOYW1lJywgdGlja2FuZ2xlOiAtNDV9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeWF4aXM6IHt0aXRsZTogJ0V2ZW50IENvdW50J30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAncmdiYSgwLDAsMCwwKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90X2JnY29sb3I6ICdyZ2JhKDAsMCwwLDApJwogICAgICAgICAgICAgICAgICAgICAgICB9LCB7c3RhdGljUGxvdDogdHJ1ZSwgZGlzcGxheU1vZGVCYXI6IGZhbHNlfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz0iZXJyb3IiPkVycm9yIGdlbmVyYXRpbmcgcmVwb3J0OiAke2Vycm9yLm1lc3NhZ2V9PC9kaXY+YDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBHZW5lcmF0ZSBQREYgdXNpbmcgaHRtbDJwZGYuanMgbGlicmFyeQogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlUERGKCkgewogICAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGRmQnV0dG9uJyk7CiAgICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAn4o+zIEdlbmVyYXRpbmcgUERGLi4uJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gR2V0IHRoZSByZXBvcnQgY29udGFpbmVyIChBNCBzaXplZCkKICAgICAgICAgICAgY29uc3QgcmVwb3J0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydENvbnRhaW5lcicpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uW3N0eWxlKj0ibWF4LXdpZHRoOiA3OTRweCJdJykgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25bc3R5bGUqPSJtYXgtd2lkdGg6IDkwMHB4Il0nKTsKICAgICAgICAgICAgaWYgKCFyZXBvcnRDb250YWluZXIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgZ2VuZXJhdGUgYSByZXBvcnQgZmlyc3QnKTsKICAgICAgICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAn8J+ThCBHZW5lcmF0ZSBQREYgUmVwb3J0JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29uZmlndXJlIFBERiBvcHRpb25zIGZvciBBNCBwYXBlciAoMjEwbW0geCAyOTdtbSA9IDguMjciIHggMTEuNjkiKQogICAgICAgICAgICBjb25zdCBvcHQgPSB7CiAgICAgICAgICAgICAgICBtYXJnaW46IFswLjQsIDAuNCwgMC40LCAwLjRdLCAvLyBTbWFsbGVyIG1hcmdpbnMgZm9yIG1vcmUgY29udGVudAogICAgICAgICAgICAgICAgZmlsZW5hbWU6IGBUZW5hY2lvdXNfU3RhdHNfUmVwb3J0XyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19LnBkZmAsCiAgICAgICAgICAgICAgICBpbWFnZTogeyB0eXBlOiAnanBlZycsIHF1YWxpdHk6IDAuOTggfSwKICAgICAgICAgICAgICAgIGh0bWwyY2FudmFzOiB7IAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiAyLAogICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYWxsb3dUYWludDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBsb2dnaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBsZXR0ZXJSZW5kZXJpbmc6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsCiAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IDc5NCwgLy8gQTQgd2lkdGggaW4gcGl4ZWxzIGF0IDk2IERQSQogICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogcmVwb3J0Q29udGFpbmVyLnNjcm9sbEhlaWdodAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGpzUERGOiB7IAogICAgICAgICAgICAgICAgICAgIHVuaXQ6ICdtbScsIC8vIFVzZSBtaWxsaW1ldGVycyBmb3IgQTQgcHJlY2lzaW9uCiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnYTQnLCAvLyAyMTBtbSB4IDI5N21tCiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246ICdwb3J0cmFpdCcsCiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3M6IHRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwYWdlYnJlYWs6IHsgCiAgICAgICAgICAgICAgICAgICAgbW9kZTogWydhdm9pZC1hbGwnLCAnY3NzJywgJ2xlZ2FjeSddLAogICAgICAgICAgICAgICAgICAgIGJlZm9yZTogJy5yZXBvcnQtc2VjdGlvbicsCiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6ICcucmVwb3J0LXNlY3Rpb24nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBHZW5lcmF0ZSBQREYgYW5kIG9wZW4gaW4gbmV3IHRhYiBmb3IgcmV2aWV3CiAgICAgICAgICAgIGh0bWwycGRmKCkKICAgICAgICAgICAgICAgIC5zZXQob3B0KQogICAgICAgICAgICAgICAgLmZyb20ocmVwb3J0Q29udGFpbmVyKQogICAgICAgICAgICAgICAgLm91dHB1dCgnYmxvYicpCiAgICAgICAgICAgICAgICAudGhlbigocGRmQmxvYikgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBibG9iIFVSTAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBkZkJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHBkZkJsb2IpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gUERGIGluIG5ldyB0YWIgZm9yIHJldmlldwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1dpbmRvdyA9IHdpbmRvdy5vcGVuKHBkZkJsb2JVcmwsICdfYmxhbmsnKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAobmV3V2luZG93KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIGJsb2IgVVJMIGFmdGVyIGEgZGVsYXkKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHBkZkJsb2JVcmwpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwb3B1cCBibG9ja2VkLCBjcmVhdGUgZG93bmxvYWQgbGluawogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBwZGZCbG9iVXJsOwogICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gb3B0LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChwZGZCbG9iVXJsKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ/Cfk4QgR2VuZXJhdGUgUERGIFJlcG9ydCc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQREYgZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yIGdlbmVyYXRpbmcgUERGOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ/Cfk4QgR2VuZXJhdGUgUERGIFJlcG9ydCc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFByZXZpZXcgcmVwb3J0IGFzIGltYWdlIHNvIHdlIGNhbiBzZWUgdGhlIG91dHB1dAogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHByZXZpZXdSZXBvcnQoKSB7CiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3QnV0dG9uJyk7CiAgICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAn4o+zIEdlbmVyYXRpbmcgcHJldmlldy4uLic7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEdldCB0aGUgcmVwb3J0IGNvbnRhaW5lciAoQTQgc2l6ZWQpCiAgICAgICAgICAgIGNvbnN0IHJlcG9ydENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250YWluZXInKSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbltzdHlsZSo9Im1heC13aWR0aDogNzk0cHgiXScpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uW3N0eWxlKj0ibWF4LXdpZHRoOiA5MDBweCJdJyk7CiAgICAgICAgICAgIGlmICghcmVwb3J0Q29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIGdlbmVyYXRlIGEgcmVwb3J0IGZpcnN0Jyk7CiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ/CfkYHvuI8gUHJldmlldyBSZXBvcnQnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8gVXNlIGh0bWwyY2FudmFzIHRvIGNyZWF0ZSBBNC1zaXplZCBpbWFnZSBmb3IgcHJldmlldwogICAgICAgICAgICAgICAgY29uc3QgYTRXaWR0aCA9IDc5NDsgLy8gQTQgd2lkdGggaW4gcGl4ZWxzIGF0IDk2IERQSQogICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gYXdhaXQgaHRtbDJjYW52YXMocmVwb3J0Q29udGFpbmVyLCB7CiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IDIsCiAgICAgICAgICAgICAgICAgICAgdXNlQ09SUzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBhbGxvd1RhaW50OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGxvZ2dpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiBhNFdpZHRoLAogICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoOiBhNFdpZHRoLAogICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogcmVwb3J0Q29udGFpbmVyLnNjcm9sbEhlaWdodAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgY2FudmFzIHRvIGltYWdlCiAgICAgICAgICAgICAgICBjb25zdCBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIE9wZW4gaW1hZ2UgZGlyZWN0bHkgaW4gbmV3IHRhYiAtIHNpbXBsZXN0IGFwcHJvYWNoCiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihpbWdEYXRhLCAnX2JsYW5rJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAn8J+Rge+4jyBQcmV2aWV3IFJlcG9ydCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcmV2aWV3IGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yIGdlbmVyYXRpbmcgcHJldmlldzogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICfwn5GB77iPIFByZXZpZXcgUmVwb3J0JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBEb3dubG9hZCByZXBvcnQgYXMgc2luZ2xlIGhpZ2gtcXVhbGl0eSBpbWFnZSBmaWxlCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRSZXBvcnRJbWFnZSgpIHsKICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlQnV0dG9uJyk7CiAgICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAn4o+zIEdlbmVyYXRpbmcgaW1hZ2UuLi4nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBHZXQgdGhlIHJlcG9ydCBjb250YWluZXIgKEE0IHNpemVkKQogICAgICAgICAgICBjb25zdCByZXBvcnRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Q29udGFpbmVyJykgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25bc3R5bGUqPSJtYXgtd2lkdGg6IDc5NHB4Il0nKSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbltzdHlsZSo9Im1heC13aWR0aDogOTAwcHgiXScpOwogICAgICAgICAgICBpZiAoIXJlcG9ydENvbnRhaW5lcikgewogICAgICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBnZW5lcmF0ZSBhIHJlcG9ydCBmaXJzdCcpOwogICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICfwn5K+IERvd25sb2FkIGFzIEltYWdlJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vIFVzZSBodG1sMmNhbnZhcyB0byBjcmVhdGUgQTQtc2l6ZWQgaGlnaC1xdWFsaXR5IGltYWdlCiAgICAgICAgICAgICAgICAvLyBBNDogMjEwbW0geCAyOTdtbSA9IDc5NHB4IHggMTEyM3B4IGF0IDk2IERQSQogICAgICAgICAgICAgICAgLy8gRm9yIGhpZ2ggcXVhbGl0eTogc2NhbGUgdXAgYnV0IG1haW50YWluIEE0IGFzcGVjdCByYXRpbwogICAgICAgICAgICAgICAgY29uc3QgYTRXaWR0aCA9IDc5NDsgLy8gQTQgd2lkdGggaW4gcGl4ZWxzIGF0IDk2IERQSQogICAgICAgICAgICAgICAgY29uc3QgYTRIZWlnaHQgPSAxMTIzOyAvLyBBNCBoZWlnaHQgaW4gcGl4ZWxzIGF0IDk2IERQSQogICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSAzOyAvLyBIaWdoIHF1YWxpdHkgc2NhbGUKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gYXdhaXQgaHRtbDJjYW52YXMocmVwb3J0Q29udGFpbmVyLCB7CiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlLAogICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYWxsb3dUYWludDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBsb2dnaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJywKICAgICAgICAgICAgICAgICAgICB3aWR0aDogYTRXaWR0aCwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KGE0SGVpZ2h0LCByZXBvcnRDb250YWluZXIuc2Nyb2xsSGVpZ2h0ICogc2NhbGUpLAogICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoOiBhNFdpZHRoLAogICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogcmVwb3J0Q29udGFpbmVyLnNjcm9sbEhlaWdodCwKICAgICAgICAgICAgICAgICAgICByZW1vdmVDb250YWluZXI6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ29udmVydCBjYW52YXMgdG8gaW1hZ2Ugd2l0aCBtYXhpbXVtIHF1YWxpdHkKICAgICAgICAgICAgICAgIGNvbnN0IGltZ0RhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnLCAxLjApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZG93bmxvYWQgbGluawogICAgICAgICAgICAgICAgY29uc3QgZGF0ZVN0ciA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOwogICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBgVGVuYWNpb3VzX1N0YXRzX1JlcG9ydF8ke2RhdGVTdHJ9LnBuZ2A7CiAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBpbWdEYXRhOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGRvd25sb2FkCiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgICAgICAgICAgbGluay5jbGljaygpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICfwn5K+IERvd25sb2FkIGFzIEltYWdlJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlIGRvd25sb2FkIGVycm9yOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCdFcnJvciBnZW5lcmF0aW5nIGltYWdlOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ/Cfkr4gRG93bmxvYWQgYXMgSW1hZ2UnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgoK"}